<?xml version="1.0" encoding="EUC-KR"?>
<statements>

    <!--  -->
    <statement name="regtGcbSceImpvRvwOpi" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::19.화면개선요청관리::GCB화면개선검토의견Ebi::GCB화면개선검토의견Dao::GCB화면개선검토의견등록" >
		<![CDATA[
			INSERT /*+ 박혜림::/gcb/sceImpvDmdMg/gcbSceImpvRvwOpiEbi/TBGCBHT03/regtGcbSceImpvRvwOpi */
			  INTO INSTC.TBGCBHT03        /* GCB화면개선검토의견 */
			(
			   등록일시
			 , 화면번호
			 , 등록직원번호
			 , 화면개선요청이관이력일련번호
			 , 화면개선요청이관여부
			 , 화면현업담당직원번호
			 , 화면현업담당자부점코드
			 , 화면개선요청검토의견
			 , 시스템최종갱신일시
			 , 시스템최종갱신식별자
			 , 시스템최종거래일시
			)
			VALUES
			(
			  ${등록일시}
			 ,${화면번호}
			 ,${등록직원번호}
			 ,${화면개선요청이관이력일련번호}
			 ,${화면개선요청이관여부}
			 ,${화면현업담당직원번호}
			 ,${화면현업담당자부점코드}
			 ,${화면개선요청검토의견}
			 ,SYSTIMESTAMP
			 ,${시스템최종갱신식별자}
			 ,${시스템최종거래일시}
			)
		]]>
    </statement>

    <!--  -->
    <statement name="uptGcbSceImpvRvwOpi" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::19.화면개선요청관리::GCB화면개선검토의견Ebi::GCB화면개선검토의견Dao::GCB화면개선검토의견수정">
		<![CDATA[
			UPDATE /*+ 박혜림::/gcb/sceImpvDmdMg/gcbSceImpvRvwOpiEbi/TBGCBHT03/uptGcbSceImpvRvwOpi */ 
			       INSTC.TBGCBHT03        /* GCB화면개선검토의견 */
			   SET 화면개선요청검토의견 = ${화면개선요청검토의견}
			     , 시스템최종갱신일시  = SYSTIMESTAMP
			     , 시스템최종갱신식별자 = ${시스템최종갱신식별자}
			     , 시스템최종거래일시  = ${시스템최종거래일시}
			 WHERE 등록일시           = ${등록일시}
			   AND 화면번호           = ${화면번호}
			   AND 등록직원번호         = ${등록직원번호}
			   AND 화면개선요청이관이력일련번호 = ${화면개선요청이관이력일련번호}
		]]>
    </statement>

    <!--  -->
    <statement name="retvLckGcbSceImpvRvwOpi" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::19.화면개선요청관리::GCB화면개선검토의견Ebi::GCB화면개선검토의견Dao::GCB화면개선검토의견락조회">
		<![CDATA[
			SELECT /*+ 박혜림::/gcb/sceImpvDmdMg/gcbSceImpvRvwOpiEbi/TBGCBHT03/retvLckGcbSceImpvRvwOpi */ 
			       A.등록일시
			     , A.화면번호
			     , A.등록직원번호
			     , A.화면개선요청이관이력일련번호
			     , A.화면개선요청이관여부
			     , A.화면현업담당직원번호
			     , A.화면현업담당자부점코드
			     , A.화면개선요청검토의견
			     , TO_CHAR(A.시스템최종갱신일시, 'YYYYMMDDHH24MISS') as 시스템최종갱신일시
			     , A.시스템최종갱신식별자
			     , A.시스템최종거래일시
			  FROM INSTC.TBGCBHT03 A        /* GCB화면개선검토의견 */
			 WHERE A.등록일시           = ${등록일시}
			   AND A.화면번호           = ${화면번호}
			   AND A.등록직원번호         = ${등록직원번호}
			   AND A.화면개선요청이관여부 = 'N'
		]]>
    </statement>

    <!--  -->
    <statement name="retvGcbSceImpvDmdTrst" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::19.화면개선요청관리::GCB화면개선검토의견Ebi::GCB화면개선검토의견Dao::GCB화면개선요청이관조회">
		<![CDATA[
			SELECT /*+ 박혜림::/gcb/sceImpvDmdMg/gcbSceImpvRvwOpiEbi/TBGCBHT03/retvGcbSceImpvDmdTrst */ 
			       A.등록일시
			     , A.화면번호
			     , A.등록직원번호
			     , MAX(A.화면개선요청이관이력일련번호) 화면개선요청이관이력일련번호
			     , A.화면개선요청이관여부
			     , A.화면현업담당직원번호
			     , A.화면현업담당자부점코드
			     , A.화면개선요청검토의견
			  FROM INSTC.TBGCBHT03 A        /* GCB화면개선검토의견 */
			 WHERE A.등록일시       = ${등록일시}
			   AND A.화면번호       = ${화면번호}
			   AND A.등록직원번호     = ${등록직원번호}
			   AND A.화면개선요청이관여부 = 'N'
			GROUP BY A.등록일시
			       , A.화면번호
			       , A.등록직원번호
			       , A.화면개선요청이관이력일련번호
			       , A.화면개선요청이관여부
			       , A.화면현업담당직원번호
			       , A.화면현업담당자부점코드
			       , A.화면개선요청검토의견
		]]>
    </statement>

    <!--  -->
    <statement name="uptGcbSceImpvDmdTrst" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::19.화면개선요청관리::GCB화면개선검토의견Ebi::GCB화면개선검토의견Dao::GCB화면개선요청이관수정">
		<![CDATA[
			UPDATE /*+ 박혜림::/gcb/sceImpvDmdMg/gcbSceImpvRvwOpiEbi/TBGCBHT03/uptGcbSceImpvDmdTrst */ 
			       INSTC.TBGCBHT03        /* GCB화면개선검토의견 */
			   SET 화면개선요청이관여부  = 'Y'
			     , 화면현업담당직원번호  = ${화면현업담당직원번호}
			     , 화면현업담당자부점코드 = ${화면현업담당자부점코드}
			     , 화면개선요청검토의견  = ${화면개선요청검토의견}
			     , 시스템최종갱신일시   = SYSTIMESTAMP
			     , 시스템최종갱신식별자  = ${시스템최종갱신식별자}
			     , 시스템최종거래일시   = ${시스템최종거래일시}
			 WHERE 등록일시           = ${등록일시}
			   AND 화면번호           = ${화면번호}
			   AND 등록직원번호         = ${등록직원번호}
			   AND 화면개선요청이관이력일련번호 = ${화면개선요청이관이력일련번호}
			   AND 화면개선요청이관여부  = 'N'
		]]>
    </statement>
</statements>
