<?xml version="1.0" encoding="EUC-KR"?>
<statements>

    <!--  -->
    <statement name="regtCmnDatWdstHis" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::06.배치컴포넌트::01.공통데이터동기화관리::02.공통데이터배포::부점기본은행배포파일생성Job::DAO::부점기본은행배포파일생성Bdao::공통데이터배포내역등록" >
		<![CDATA[
			INSERT /*+ 위상규::/gcb/batch/cmnDatSynchMg/cmnDatWdst/bhBasBkWdstFlCreJob/BhBasBkWdstFlCre/regtCmnDatWdstHis */
			  INTO INSTC.TBGCBDM02
			(
			   공통데이터테이블명
			 , 배포작업시스템식별구분코드
			 , 배포대상시스템ID
			 , 작업기준년월일
			 , 배포작업처리회차
			 , 배포작업단계구분코드
			 , 배포파일구분코드
			 , 배포작업결과구분코드
			 , 배포대상데이터건수
			 , 배포작업시작년월일
			 , 배포작업시작시각
			 , 배포작업종료년월일
			 , 배포작업종료시각
			 , 배포작업오류발생내용
			 , 시스템최종갱신일시
			 , 시스템최종갱신식별자
			 , 시스템최종거래일시
			)
			VALUES
			(
			  ${공통데이터테이블명}
			 ,${배포작업시스템식별구분코드}
			 ,${배포대상시스템ID}
			 ,${작업기준년월일}
			 ,${배포작업처리회차}
			 ,${배포작업단계구분코드}
			 ,${배포파일구분코드}
			 ,${배포작업결과구분코드}
			 ,${배포대상데이터건수}
			 ,${배포작업시작년월일}
			 ,${배포작업시작시각}
			 ,${배포작업종료년월일}
			 ,${배포작업종료시각}
			 ,${배포작업오류발생내용}
			 ,SYSTIMESTAMP
			 ,${시스템최종갱신식별자}
			 ,${시스템최종거래일시}
			)
		]]>
    </statement>

    <!--  -->
    <statement name="retvBhBasNcn" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::06.배치컴포넌트::01.공통데이터동기화관리::02.공통데이터배포::부점기본은행배포파일생성Job::DAO::부점기본은행배포파일생성Bdao::부점기본건수조회">
		<![CDATA[
			SELECT /*+ 위상규::/gcb/batch/cmnDatSynchMg/cmnDatWdst/bhBasBkWdstFlCreJob/BhBasBkWdstFlCre/retvBhBasNcn */ 
			       COUNT(1) 배포대상데이터건수
			  FROM INSTC.TBGCBBR01 A
		]]>
    </statement>

    <!--  -->
    <statement name="retvLstBhBas" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::06.배치컴포넌트::01.공통데이터동기화관리::02.공통데이터배포::부점기본은행배포파일생성Job::DAO::부점기본은행배포파일생성Bdao::부점기본목록조회">
		<![CDATA[
			SELECT /*+ 위상규::/gcb/batch/cmnDatSynchMg/cmnDatWdst/bhBasBkWdstFlCreJob/BhBasBkWdstFlCre/retvLstBhBas */ 
			       A.부점코드
			     , A.적용시작년월일
			     , A.적용종료년월일
			     , A.부점개점년월일
			     , A.부점폐쇄년월일
			     , A.은행코드
			     , A.한글부점명
			     , A.한글약어부점명
			     , A.영문부점명
			     , A.우편번호
			     , A.한글부점상세주소
			     , A.영문부점상세주소
			     , A.부점구분코드
			     , A.출장소모점부점코드
			     , A.부점전화번호
			     , A.부점ARS전화번호
			     , A.부점팩스번호1
			     , A.부점팩스번호용도내용1
			     , A.부점팩스번호2
			     , A.부점팩스번호용도내용2
			     , A.사업자등록번호
			     , A.부점관할세무서명
			     , A.회계발생구분코드
			     , A.계정처리부점코드
			     , A.영업지원본부부점코드
			     , A.사업본부부점코드
			     , A.어음교환소모점코드
			     , A.어음교환소코드
			     , A.국고결제모점코드
			     , A.한국은행통할점구분코드
			     , A.공금예금모점코드
			     , A.은행외환구분코드
			     , A.외환부점코드
			     , A.외환부점구분코드
			     , A.외환취급부점구분코드
			     , A.부점외환개시년월일
			     , A.부점외환종료년월일
			     , A.은행외환모점코드
			     , A.외환모점외환부점코드
			     , A.통합부점코드
			     , A.수표지급지명
			     , A.대출실행팀부점코드
			     , A.대출서류원본보관부점코드
			     , A.프로세스센터부점코드
			     , A.내부통제자직원번호
			     , A.내부통제자휴대폰번호
			     , A.부점장직원번호
			     , A.부점장휴대폰번호
			     , A.부점정보변경항목내용
			     , A.부점정보변경사유
			     , A.점포유형구분코드
			     , A.부점장휴대폰변경년월일
			     , A.내부통제자휴대폰변경년월일
			     , A.지주회사구분코드
			     , A.주소표시구분코드
			     , A.한글확장부점명
			     , A.부점이메일주소
			     , A.영업소관리부점코드
			     , TO_CHAR(A.시스템최종갱신일시, 'YYYYMMDDHH24MISS') as 시스템최종갱신일시_V20
			     , A.시스템최종갱신식별자
			     , A.시스템최종거래일시
			  FROM INSTC.TBGCBBR01 A 
			 ORDER BY A.부점코드
			     , A.적용시작년월일
		]]>
    </statement>

    <!--  -->
    <statement name="retvBhBasMdNcn" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::06.배치컴포넌트::01.공통데이터동기화관리::02.공통데이터배포::부점기본은행배포파일생성Job::DAO::부점기본은행배포파일생성Bdao::부점기본변경건수조회">
		<![CDATA[
			SELECT /*+ 위상규::/gcb/batch/cmnDatSynchMg/cmnDatWdst/bhBasBkWdstFlCreJob/BhBasBkWdstFlCre/retvBhBasMdNcn */ 
			       COUNT(1) 배포대상데이터건수
			  FROM INSTC.TBGCBBR01 A 
			 WHERE A.시스템최종거래일시 BETWEEN ${작업기준년월일} || '000000000000' AND ${작업기준년월일} || '999999999999'
			    OR TO_CHAR(A.시스템최종갱신일시, 'YYYYMMDD') BETWEEN ${작업기준년월일} AND ${작업기준년월일}
		]]>
    </statement>
</statements>
