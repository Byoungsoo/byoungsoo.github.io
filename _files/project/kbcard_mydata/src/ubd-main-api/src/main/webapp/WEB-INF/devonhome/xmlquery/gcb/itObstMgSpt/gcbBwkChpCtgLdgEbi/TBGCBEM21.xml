<?xml version="1.0" encoding="EUC-KR"?>
<statements>

    <!--  -->
    <statement name="retvLstGcbBwkChpCtgLdgByApp" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::21.IT장애관리지원::GCB업무점검목록원장Ebi::GCB업무점검목록원장Dao::GCB업무점검목록원장byApp목록조회">
		<![CDATA[
			SELECT /*+ 정재훈::/gcb/itObstMgSpt/gcbBwkChpCtgLdgEbi/TBGCBEM21/retvLstGcbBwkChpCtgLdgByApp */ 
			       A.어플리케이션코드
			     , A.업무점검번호
			     , A.사용여부
			     , A.업무점검제한시작일시
			     , A.업무점검제한종료일시
			     , A.업무점검명
			     , A.업무점검내용
			     , A.업무점검주기구분코드
			     , A.업무점검주기세부구분코드
			     , A.업무점검시작시분
			     , A.업무점검종료시분
			     , A.미점검SMS대상여부
			     , A.운영영향여부
			     , A.운영영향업무내용
			     , A.운영영향기준시분
			     , A.화면연계정보
			     , A.업무점검담당자내용
			     , A.업무조치담당자내용
			     , A.최종미점검발생일시
			     , A.최종미점검SMS전송일시
			     , A.최종점검일시
			     , A.최종점검SMS전송일시
			     , TO_CHAR(A.시스템최종갱신일시, 'YYYYMMDDHH24MISS') as 시스템최종갱신일시
			     , A.시스템최종갱신식별자
			     , A.시스템최종거래일시
			     , ( SELECT count(1) 
			         FROM INSTC.TBGCBEM22 B 
			         WHERE A.어플리케이션코드 = B.어플리케이션코드 
			           AND A.업무점검번호   = B.업무점검번호) AS SMS등록직원수_N7
			  FROM INSTC.TBGCBEM21 A        /* GCB업무점검목록원장 */
			 WHERE A.어플리케이션코드 = ${어플리케이션코드}
			   AND ( ${업무점검번호} IS NULL OR A.업무점검번호 LIKE '%'||${업무점검번호}||'%' )
			   AND ( ${업무점검명} IS NULL OR A.업무점검명 LIKE '%'||${업무점검명}||'%' )
			   AND ( ${업무점검담당자내용} IS NULL OR A.업무점검담당자내용 = ${업무점검담당자내용} )
			   AND ( ${업무조치담당자내용} IS NULL OR A.업무조치담당자내용 = ${업무조치담당자내용} )
		]]>
    </statement>

    <!--  -->
    <statement name="retvLstGcbBwkChpCtgLdgByEtc" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::21.IT장애관리지원::GCB업무점검목록원장Ebi::GCB업무점검목록원장Dao::GCB업무점검목록원장byEtc목록조회">
		<![CDATA[
			SELECT /*+ 정재훈::/gcb/itObstMgSpt/gcbBwkChpCtgLdgEbi/TBGCBEM21/retvLstGcbBwkChpCtgLdgByEtc */ 
			       A.어플리케이션코드
			     , A.업무점검번호
			     , A.사용여부
			     , A.업무점검제한시작일시
			     , A.업무점검제한종료일시
			     , A.업무점검명
			     , A.업무점검내용
			     , A.업무점검주기구분코드
			     , A.업무점검주기세부구분코드
			     , A.업무점검시작시분
			     , A.업무점검종료시분
			     , A.미점검SMS대상여부
			     , A.운영영향여부
			     , A.운영영향업무내용
			     , A.운영영향기준시분
			     , A.화면연계정보
			     , A.업무점검담당자내용
			     , A.업무조치담당자내용
			     , A.최종미점검발생일시
			     , A.최종미점검SMS전송일시
			     , A.최종점검일시
			     , A.최종점검SMS전송일시
			     , TO_CHAR(A.시스템최종갱신일시, 'YYYYMMDDHH24MISS') as 시스템최종갱신일시
			     , A.시스템최종갱신식별자
			     , A.시스템최종거래일시
			     , ( SELECT count(1) 
			         FROM INSTC.TBGCBEM22 B 
			         WHERE A.어플리케이션코드 = B.어플리케이션코드 
			           AND A.업무점검번호   = B.업무점검번호) AS SMS등록직원수_N7
			  FROM INSTC.TBGCBEM21 A        /* GCB업무점검목록원장 */
			 WHERE ( ${업무점검명} IS NULL OR A.업무점검명 LIKE '%'||${업무점검명}||'%' )
			   AND ( ${업무점검번호} IS NULL OR A.업무점검번호 LIKE '%'||${업무점검번호}||'%' )
			   AND ( ${업무점검담당자내용} IS NULL OR A.업무점검담당자내용 = ${업무점검담당자내용} )
			   AND ( ${업무조치담당자내용} IS NULL OR A.업무조치담당자내용 = ${업무조치담당자내용} )
		]]>
    </statement>

    <!--  -->
    <statement name="retvLstGcbBwkChpCtgLdgBySms" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::21.IT장애관리지원::GCB업무점검목록원장Ebi::GCB업무점검목록원장Dao::GCB업무점검목록원장bySms목록조회">
		<![CDATA[
			SELECT /*+ 정재훈::/gcb/itObstMgSpt/gcbBwkChpCtgLdgEbi/TBGCBEM21/retvLstGcbBwkChpCtgLdgBySms */ 
			       A.어플리케이션코드
			     , A.업무점검번호
			     , A.사용여부
			     , A.업무점검제한시작일시
			     , A.업무점검제한종료일시
			     , A.업무점검명
			     , A.업무점검내용
			     , A.업무점검주기구분코드
			     , A.업무점검주기세부구분코드
			     , A.업무점검시작시분
			     , A.업무점검종료시분
			     , A.미점검SMS대상여부
			     , A.운영영향여부
			     , A.운영영향업무내용
			     , A.운영영향기준시분
			     , A.화면연계정보
			     , A.업무점검담당자내용
			     , A.업무조치담당자내용
			     , A.최종미점검발생일시
			     , A.최종미점검SMS전송일시
			     , A.최종점검일시
			     , A.최종점검SMS전송일시
			     , TO_CHAR(A.시스템최종갱신일시, 'YYYYMMDDHH24MISS') as 시스템최종갱신일시
			     , A.시스템최종갱신식별자
			     , A.시스템최종거래일시
			     , ( SELECT count(1) 
			         FROM INSTC.TBGCBEM22 B 
			         WHERE A.어플리케이션코드 = B.어플리케이션코드 
			           AND A.업무점검번호   = B.업무점검번호) AS SMS등록직원수_N7
			  FROM INSTC.TBGCBEM21 A        /* GCB업무점검목록원장 */
			 WHERE ( ${어플리케이션코드} IS NULL OR A.어플리케이션코드 = ${어플리케이션코드} )
			   AND ( ${업무점검번호} IS NULL OR A.업무점검번호 LIKE '%'||${업무점검번호}||'%' )
			   AND ( ${업무점검명} IS NULL OR A.업무점검명 LIKE '%'||${업무점검명}||'%' )
			   AND ( ${업무점검담당자내용} IS NULL OR A.업무점검담당자내용 = ${업무점검담당자내용} )
			   AND ( ${업무조치담당자내용} IS NULL OR A.업무조치담당자내용 = ${업무조치담당자내용} )
			   AND ( A.어플리케이션코드, A.업무점검번호 ) IN
			       ( SELECT B.어플리케이션코드, B.업무점검번호 FROM INSTC.TBGCBEM22 B 
			         WHERE B.SMS전송대상자식별내용 = ${SMS수신직원_V7})
		]]>
    </statement>

    <!--  -->
    <statement name="regtGcbBwkChpCtgLdg" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::21.IT장애관리지원::GCB업무점검목록원장Ebi::GCB업무점검목록원장Dao::GCB업무점검목록원장등록" >
		<![CDATA[
			INSERT /*+ 정재훈::/gcb/itObstMgSpt/gcbBwkChpCtgLdgEbi/TBGCBEM21/regtGcbBwkChpCtgLdg */
			  INTO INSTC.TBGCBEM21        /* GCB업무점검목록원장 */
			(
			   어플리케이션코드
			 , 업무점검번호
			 , 사용여부
			 , 업무점검제한시작일시
			 , 업무점검제한종료일시
			 , 업무점검명
			 , 업무점검내용
			 , 업무점검주기구분코드
			 , 업무점검주기세부구분코드
			 , 업무점검시작시분
			 , 업무점검종료시분
			 , 미점검SMS대상여부
			 , 운영영향여부
			 , 운영영향업무내용
			 , 운영영향기준시분
			 , 화면연계정보
			 , 업무점검담당자내용
			 , 업무조치담당자내용
			 , 최종미점검발생일시
			 , 최종미점검SMS전송일시
			 , 최종점검일시
			 , 최종점검SMS전송일시
			 , 시스템최종갱신일시
			 , 시스템최종갱신식별자
			 , 시스템최종거래일시
			)
			VALUES
			(
			  ${어플리케이션코드}
			 ,${업무점검번호}
			 ,${사용여부}
			 ,${업무점검제한시작일시}
			 ,${업무점검제한종료일시}
			 ,${업무점검명}
			 ,${업무점검내용}
			 ,${업무점검주기구분코드}
			 ,${업무점검주기세부구분코드}
			 ,${업무점검시작시분}
			 ,${업무점검종료시분}
			 ,${미점검SMS대상여부}
			 ,${운영영향여부}
			 ,${운영영향업무내용}
			 ,${운영영향기준시분}
			 ,${화면연계정보}
			 ,${업무점검담당자내용}
			 ,${업무조치담당자내용}
			 ,${최종미점검발생일시}
			 ,${최종미점검SMS전송일시}
			 ,${최종점검일시}
			 ,${최종점검SMS전송일시}
			 ,SYSTIMESTAMP
			 ,${시스템최종갱신식별자}
			 ,${시스템최종거래일시}
			)
		]]>
    </statement>

    <!--  -->
    <statement name="delGcbBwkChpCtgLdg" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::21.IT장애관리지원::GCB업무점검목록원장Ebi::GCB업무점검목록원장Dao::GCB업무점검목록원장삭제" >
		<![CDATA[
			DELETE /*+ 정재훈::/gcb/itObstMgSpt/gcbBwkChpCtgLdgEbi/TBGCBEM21/delGcbBwkChpCtgLdg */
			  FROM INSTC.TBGCBEM21        /* GCB업무점검목록원장 */
			 WHERE 어플리케이션코드 = ${어플리케이션코드}
			   AND 업무점검번호   = ${업무점검번호}
		]]>
    </statement>

    <!--  -->
    <statement name="uptGcbBwkChpCtgLdg" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::21.IT장애관리지원::GCB업무점검목록원장Ebi::GCB업무점검목록원장Dao::GCB업무점검목록원장수정" >
		<![CDATA[
			UPDATE /*+ 정재훈::/gcb/itObstMgSpt/gcbBwkChpCtgLdgEbi/TBGCBEM21/uptGcbBwkChpCtgLdg */ 
			       INSTC.TBGCBEM21        /* GCB업무점검목록원장 */
			   SET 사용여부         = ${사용여부}
			     , 업무점검제한시작일시   = ${업무점검제한시작일시}
			     , 업무점검제한종료일시   = ${업무점검제한종료일시}
			     , 업무점검명        = ${업무점검명}
			     , 업무점검내용       = ${업무점검내용}
			     , 업무점검주기구분코드   = ${업무점검주기구분코드}
			     , 업무점검주기세부구분코드 = ${업무점검주기세부구분코드}
			     , 업무점검시작시분     = ${업무점검시작시분}
			     , 업무점검종료시분     = ${업무점검종료시분}
			     , 미점검SMS대상여부   = ${미점검SMS대상여부}
			     , 운영영향여부       = ${운영영향여부}
			     , 운영영향업무내용     = ${운영영향업무내용}
			     , 운영영향기준시분     = ${운영영향기준시분}
			     , 화면연계정보       = ${화면연계정보}
			     , 업무점검담당자내용    = ${업무점검담당자내용}
			     , 업무조치담당자내용    = ${업무조치담당자내용}
			     , 최종미점검발생일시    = ${최종미점검발생일시}
			     , 최종미점검SMS전송일시 = ${최종미점검SMS전송일시}
			     , 최종점검일시       = ${최종점검일시}
			     , 최종점검SMS전송일시  = ${최종점검SMS전송일시}
			     , 시스템최종갱신일시    = SYSTIMESTAMP
			     , 시스템최종갱신식별자   = ${시스템최종갱신식별자}
			     , 시스템최종거래일시    = ${시스템최종거래일시}
			 WHERE 어플리케이션코드 = ${어플리케이션코드}
			   AND 업무점검번호   = ${업무점검번호}
		]]>
    </statement>

    <!--  -->
    <statement name="retvGcbBwkChpCtgLdg" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::21.IT장애관리지원::GCB업무점검목록원장Ebi::GCB업무점검목록원장Dao::GCB업무점검목록원장조회" >
		<![CDATA[
			SELECT /*+ 정재훈::/gcb/itObstMgSpt/gcbBwkChpCtgLdgEbi/TBGCBEM21/retvGcbBwkChpCtgLdg */ 
			       A.어플리케이션코드
			     , A.업무점검번호
			     , A.사용여부
			     , A.업무점검제한시작일시
			     , A.업무점검제한종료일시
			     , A.업무점검명
			     , A.업무점검내용
			     , A.업무점검주기구분코드
			     , A.업무점검주기세부구분코드
			     , A.업무점검시작시분
			     , A.업무점검종료시분
			     , A.미점검SMS대상여부
			     , A.운영영향여부
			     , A.운영영향업무내용
			     , A.운영영향기준시분
			     , A.화면연계정보
			     , A.업무점검담당자내용
			     , A.업무조치담당자내용
			     , A.최종미점검발생일시
			     , A.최종미점검SMS전송일시
			     , A.최종점검일시
			     , A.최종점검SMS전송일시
			     , TO_CHAR(A.시스템최종갱신일시, 'YYYYMMDDHH24MISS') as 시스템최종갱신일시
			     , A.시스템최종갱신식별자
			     , A.시스템최종거래일시
			  FROM INSTC.TBGCBEM21 A        /* GCB업무점검목록원장 */
			 WHERE A.어플리케이션코드 = ${어플리케이션코드}
			   AND A.업무점검번호   = ${업무점검번호}
		]]>
    </statement>

    <!--  -->
    <statement name="uptGcbBwkChpCtgLdgLstInf" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::21.IT장애관리지원::GCB업무점검목록원장Ebi::GCB업무점검목록원장Dao::GCB업무점검목록원장최종정보수정">
		<![CDATA[
			UPDATE /*+ 김은령::/gcb/itObstMgSpt/gcbBwkChpCtgLdgEbi/TBGCBEM21/uptGcbBwkChpCtgLdgLstInf */ 
			       INSTC.TBGCBEM21        /* GCB업무점검목록원장 */
			   SET 최종미점검발생일시    = CASE WHEN ${최종미점검발생일시} IS NULL THEN 최종미점검발생일시 ELSE ${최종미점검발생일시} END 
			     , 최종미점검SMS전송일시 = CASE WHEN ${최종미점검SMS전송일시} IS NULL THEN 최종미점검SMS전송일시  ELSE ${최종미점검SMS전송일시} END 
			     , 최종점검일시       = CASE WHEN ${최종점검일시} IS NULL THEN 최종점검일시  ELSE ${최종점검일시} END
			     , 최종점검SMS전송일시  = CASE WHEN ${최종점검SMS전송일시} IS NULL THEN 최종점검SMS전송일시  ELSE ${최종점검SMS전송일시} END 
			     , 시스템최종갱신일시    = SYSTIMESTAMP
			     , 시스템최종갱신식별자   = ${시스템최종갱신식별자}
			     , 시스템최종거래일시    = ${시스템최종거래일시}
			 WHERE 어플리케이션코드 = ${어플리케이션코드}
			   AND 업무점검번호   = ${업무점검번호}
		]]>
    </statement>
</statements>
