<?xml version="1.0" encoding="EUC-KR"?>
<statements>

    <!--  -->
    <statement name="regtGcbSbjcPrMgNoNbr" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::07.채번관리::GCB과목별관리번호채번Ebi::GCB과목별관리번호채번Dao::GCB과목별관리번호채번등록" >
		<![CDATA[
			INSERT /*+ 위상규::/gcb/nbrMg/gcbSbjcPrMgNoNbrEbi/TBGCBCN01/regtGcbSbjcPrMgNoNbr */
			  INTO INSTC.TBGCBCN01
			(
			   채번과목코드
			 , 부점코드
			 , 과목관리번호채번일련번호
			 , 과목관리번호채번최대일련번호
			 , 체크디지트번호
			 , 적용플랫폼구분코드
			 , 관리번호채번가능여부
			 , 관리번호채번불가년월일
			 , 채번불가사유구분코드
			 , 관리번호채번자리수
			 , 시스템최종갱신일시
			 , 시스템최종갱신식별자
			 , 시스템최종거래일시
			)
			VALUES
			(
			  ${채번과목코드}
			 ,${부점코드}
			 ,${과목관리번호채번일련번호}
			 ,${과목관리번호채번최대일련번호}
			 ,${체크디지트번호}
			 ,${적용플랫폼구분코드}
			 ,${관리번호채번가능여부}
			 ,${관리번호채번불가년월일}
			 ,${채번불가사유구분코드}
			 ,${관리번호채번자리수}
			 ,SYSTIMESTAMP
			 ,${시스템최종갱신식별자}
			 ,${시스템최종거래일시}
			)
		]]>
    </statement>

    <!--  -->
    <statement name="uptGcbSbjcPrMgNoNbr" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::07.채번관리::GCB과목별관리번호채번Ebi::GCB과목별관리번호채번Dao::GCB과목별관리번호채번수정" >
		<![CDATA[
			UPDATE /*+ 위상규::/gcb/nbrMg/gcbSbjcPrMgNoNbrEbi/TBGCBCN01/uptGcbSbjcPrMgNoNbr */ 
			       INSTC.TBGCBCN01 
			   SET 과목관리번호채번일련번호   = ${과목관리번호채번일련번호}
			     , 과목관리번호채번최대일련번호 = ${과목관리번호채번최대일련번호}
			     , 체크디지트번호        = ${체크디지트번호}
			     , 적용플랫폼구분코드      = ${적용플랫폼구분코드}
			     , 관리번호채번가능여부     = ${관리번호채번가능여부}
			     , 관리번호채번불가년월일    = ${관리번호채번불가년월일}
			     , 채번불가사유구분코드     = ${채번불가사유구분코드}
			     , 관리번호채번자리수      = ${관리번호채번자리수}
			     , 시스템최종갱신일시      = SYSTIMESTAMP
			     , 시스템최종갱신식별자     = ${시스템최종갱신식별자}
			     , 시스템최종거래일시      = ${시스템최종거래일시}
			 WHERE 채번과목코드 = ${채번과목코드}
			   AND 부점코드   = ${부점코드}
		]]>
    </statement>

    <!--  -->
    <statement name="retvGcbSbjcPrMgNoNbr" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::07.채번관리::GCB과목별관리번호채번Ebi::GCB과목별관리번호채번Dao::GCB과목별관리번호채번조회" >
		<![CDATA[
			SELECT /*+ 위상규::/gcb/nbrMg/gcbSbjcPrMgNoNbrEbi/TBGCBCN01/retvGcbSbjcPrMgNoNbr */ 
			       A.채번과목코드
			     , A.부점코드
			     , A.과목관리번호채번일련번호
			     , A.과목관리번호채번최대일련번호
			     , A.체크디지트번호
			     , A.적용플랫폼구분코드
			     , A.관리번호채번가능여부
			     , A.관리번호채번불가년월일
			     , A.채번불가사유구분코드
			     , A.관리번호채번자리수
			     , TO_CHAR(A.시스템최종갱신일시, 'YYYYMMDDHH24MISS') as 시스템최종갱신일시
			     , A.시스템최종갱신식별자
			     , A.시스템최종거래일시
			  FROM INSTC.TBGCBCN01 A 
			 WHERE A.채번과목코드 = ${채번과목코드}
			   AND A.부점코드   = ${부점코드}
		]]>
    </statement>

    <!--  -->
    <statement name="retvLckGcbSbjcPrMgNoNbr" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::07.채번관리::GCB과목별관리번호채번Ebi::GCB과목별관리번호채번Dao::GCB과목별관리번호채번락조회">
		<![CDATA[
			SELECT /*+ 위상규::/gcb/nbrMg/gcbSbjcPrMgNoNbrEbi/TBGCBCN01/retvLckGcbSbjcPrMgNoNbr */ 
			       A.채번과목코드
			     , A.부점코드
			     , A.과목관리번호채번일련번호
			     , A.과목관리번호채번최대일련번호
			     , A.체크디지트번호
			     , A.적용플랫폼구분코드
			     , A.관리번호채번가능여부
			     , A.관리번호채번불가년월일
			     , A.채번불가사유구분코드
			     , A.관리번호채번자리수
			     , TO_CHAR(A.시스템최종갱신일시, 'YYYYMMDDHH24MISS') as 시스템최종갱신일시
			     , A.시스템최종갱신식별자
			     , A.시스템최종거래일시
			  FROM INSTC.TBGCBCN01 A        /* GCB과목별관리번호채번 */
			 WHERE A.채번과목코드 = ${채번과목코드}
			   AND A.부점코드   = ${부점코드}
			   FOR UPDATE WAIT 3
		]]>
    </statement>
</statements>
