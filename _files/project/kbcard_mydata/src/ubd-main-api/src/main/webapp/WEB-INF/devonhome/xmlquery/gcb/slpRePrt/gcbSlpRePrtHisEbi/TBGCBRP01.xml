<?xml version="1.0" encoding="EUC-KR"?>
<statements>

    <!--  -->
    <statement name="retvLckGcbSlpRePrtHis" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::08.전표재인자::GCB전표재인자내역Ebi::GCB전표재인자내역Dao::GCB전표재인자내역락조회">
		<![CDATA[
			SELECT /*+ 송재복::/gcb/slpRePrt/gcbSlpRePrtHisEbi/TBGCBRP01/retvLckGcbSlpRePrtHis */ 
			       A.거래기준년월일
			     , A.거래부점코드
			     , A.거래직원번호
			     , A.전표구분코드
			     , A.전표번호
			     , A.원거래GUID번호
			     , TO_CHAR(A.시스템최종갱신일시, 'YYYYMMDDHH24MISS') as 시스템최종갱신일시
			     , A.시스템최종갱신식별자
			     , A.시스템최종거래일시
			  FROM INSTC.TBGCBRP01 A 
			 WHERE A.거래기준년월일 = ${거래기준년월일}
			   AND A.거래부점코드  = ${거래부점코드}
			   AND A.거래직원번호  = ${거래직원번호}
			   AND A.전표구분코드  = ${전표구분코드}
			   AND A.전표번호    = ${전표번호}
			   FOR UPDATE NOWAIT   
		]]>
    </statement>

    <!--  -->
    <statement name="regtGcbSlpRePrtHis" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::08.전표재인자::GCB전표재인자내역Ebi::GCB전표재인자내역Dao::GCB전표재인자내역등록" >
		<![CDATA[
			INSERT /*+ 송재복::/gcb/slpRePrt/gcbSlpRePrtHisEbi/TBGCBRP01/regtGcbSlpRePrtHis */
			  INTO INSTC.TBGCBRP01
			(
			   거래기준년월일
			 , 거래부점코드
			 , 거래직원번호
			 , 전표구분코드
			 , 전표번호
			 , 원거래GUID번호
			 , 시스템최종갱신일시
			 , 시스템최종갱신식별자
			 , 시스템최종거래일시
			)
			VALUES
			(
			  ${거래기준년월일}
			 ,${거래부점코드}
			 ,${거래직원번호}
			 ,${전표구분코드}
			 ,${전표번호}
			 ,${원거래GUID번호}
			 ,SYSTIMESTAMP
			 ,${시스템최종갱신식별자}
			 ,${시스템최종거래일시}
			)
		]]>
    </statement>

    <!--  -->
    <statement name="delGcbSlpRePrtHis" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::08.전표재인자::GCB전표재인자내역Ebi::GCB전표재인자내역Dao::GCB전표재인자내역삭제" >
		<![CDATA[
			DELETE /*+ 송재복::/gcb/slpRePrt/gcbSlpRePrtHisEbi/TBGCBRP01/delGcbSlpRePrtHis */
			  FROM INSTC.TBGCBRP01  
			 WHERE 거래기준년월일 = ${거래기준년월일}
			   AND 거래부점코드  = ${거래부점코드}
			   AND 거래직원번호  = ${거래직원번호}
			   AND 전표구분코드  = ${전표구분코드}
			   AND 전표번호    = ${전표번호}
		]]>
    </statement>

    <!--  -->
    <statement name="uptGcbSlpRePrtHis" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::08.전표재인자::GCB전표재인자내역Ebi::GCB전표재인자내역Dao::GCB전표재인자내역수정" >
		<![CDATA[
			UPDATE /*+ 송재복::/gcb/slpRePrt/gcbSlpRePrtHisEbi/TBGCBRP01/uptGcbSlpRePrtHis */ 
			       INSTC.TBGCBRP01 
			   SET 원거래GUID번호  = ${원거래GUID번호}
			     , 시스템최종갱신일시  = SYSTIMESTAMP
			     , 시스템최종갱신식별자 = ${시스템최종갱신식별자}
			     , 시스템최종거래일시  = ${시스템최종거래일시}
			 WHERE 거래기준년월일 = ${거래기준년월일}
			   AND 거래부점코드  = ${거래부점코드}
			   AND 거래직원번호  = ${거래직원번호}
			   AND 전표구분코드  = ${전표구분코드}
			   AND 전표번호    = ${전표번호}
		]]>
    </statement>

    <!--  -->
    <statement name="retvGcbSlpRePrtHis" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::08.전표재인자::GCB전표재인자내역Ebi::GCB전표재인자내역Dao::GCB전표재인자내역조회" >
		<![CDATA[
			SELECT /*+ 송재복::/gcb/slpRePrt/gcbSlpRePrtHisEbi/TBGCBRP01/retvGcbSlpRePrtHis */ 
			       A.거래기준년월일
			     , A.거래부점코드
			     , A.거래직원번호
			     , A.전표구분코드
			     , A.전표번호
			     , A.원거래GUID번호
			     , TO_CHAR(A.시스템최종갱신일시, 'YYYYMMDDHH24MISS') as 시스템최종갱신일시
			     , A.시스템최종갱신식별자
			     , A.시스템최종거래일시
			  FROM INSTC.TBGCBRP01 A 
			 WHERE A.거래기준년월일 = ${거래기준년월일}
			   AND A.거래부점코드  = ${거래부점코드}
			   AND A.거래직원번호  = ${거래직원번호}
			   AND A.전표구분코드  = ${전표구분코드}
			   AND A.전표번호    = ${전표번호}
		]]>
    </statement>
</statements>
