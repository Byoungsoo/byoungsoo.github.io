<?xml version="1.0" encoding="EUC-KR"?>
<statements>

    <!--  -->
    <statement name="retvLstGCB_ItOpSmsTrsHis" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::12.IT운영SMS관리::GCB_IT운영SMS전송내역Ebi::GCB_IT운영SMS전송내역Dao::GCB_IT운영SMS전송내역목록조회">
		<![CDATA[
			SELECT /*+ INDEX_SS(A) OPT_PARAM('_OPTIMIZER_SKIP_SCAN_ENABLED','TRUE')
			         , 위상규::/gcb/itOpSmsMg/gCB_ItOpSmsTrsHisEbi/TBGCBSM04/retvLstGCB_ItOpSmsTrsHis */
			       A.IT운영SMS전송년월일
			     , A.어플리케이션코드
			     , A.IT운영SMS일련번호
			     , A.IT운영SMS부가일련번호
			     , A.IT운영SMS전송시각
			     , A.SMS전송거래유형구분코드
			     , A.SMS전송거래코드
			     , A.SMS전송배치작업명
			     , A.SMS전송프로그램명
			     , A.SMS전송메시지내용
			     , A.IT운영SMS비고
			     , TO_CHAR(A.시스템최종갱신일시, 'YYYYMMDDHH24MISS') as 시스템최종갱신일시
			     , A.시스템최종갱신식별자
			     , A.시스템최종거래일시
			  FROM INSTC.TBGCBSM04 A 
			 WHERE A.IT운영SMS전송년월일 BETWEEN ${IT운영SMS전송년월일1} AND ${IT운영SMS전송년월일2}
			   AND (A.어플리케이션코드 = ${어플리케이션코드} OR ${어플리케이션코드} IS NULL)
			   AND (A.IT운영SMS일련번호 = ${IT운영SMS일련번호} OR ${IT운영SMS일련번호} = '0')
			   AND (A.SMS전송배치작업명 = ${SMS전송배치작업명} OR ${SMS전송배치작업명} IS NULL)
			   AND (A.SMS전송프로그램명 = ${SMS전송프로그램명} OR ${SMS전송프로그램명} IS NULL)
		]]>
    </statement>

    <!--  -->
    <statement name="retvGCB_ItOpSmsTrsHis" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::12.IT운영SMS관리::GCB_IT운영SMS전송내역Ebi::GCB_IT운영SMS전송내역Dao::GCB_IT운영SMS전송내역조회" >
		<![CDATA[
			SELECT /*+ 위상규::/gcb/itOpSmsMg/gCB_ItOpSmsTrsHisEbi/TBGCBSM04/retvGCB_ItOpSmsTrsHis */ 
			       A.IT운영SMS전송년월일
			     , A.어플리케이션코드
			     , A.IT운영SMS일련번호
			     , A.IT운영SMS부가일련번호
			     , A.IT운영SMS전송시각
			     , A.SMS전송거래유형구분코드
			     , A.SMS전송거래코드
			     , A.SMS전송배치작업명
			     , A.SMS전송프로그램명
			     , A.SMS전송메시지내용
			     , A.IT운영SMS비고
			     , TO_CHAR(A.시스템최종갱신일시, 'YYYYMMDDHH24MISS') as 시스템최종갱신일시
			     , A.시스템최종갱신식별자
			     , A.시스템최종거래일시
			  FROM INSTC.TBGCBSM04 A 
			 WHERE A.IT운영SMS전송년월일  = ${IT운영SMS전송년월일}
			   AND A.어플리케이션코드      = ${어플리케이션코드}
			   AND A.IT운영SMS일련번호   = ${IT운영SMS일련번호}
			   AND A.IT운영SMS부가일련번호 = ${IT운영SMS부가일련번호}
			   AND A.IT운영SMS전송시각   = ${IT운영SMS전송시각}
		]]>
    </statement>

    <!--  -->
    <statement name="delGCB_ItOpSmsTrsHis" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::12.IT운영SMS관리::GCB_IT운영SMS전송내역Ebi::GCB_IT운영SMS전송내역Dao::GCB_IT운영SMS전송내역삭제" >
		<![CDATA[
			DELETE /*+ 위상규::/gcb/itOpSmsMg/gCB_ItOpSmsTrsHisEbi/TBGCBSM04/delGCB_ItOpSmsTrsHis */
			  FROM INSTC.TBGCBSM04  
			 WHERE IT운영SMS전송년월일  = ${IT운영SMS전송년월일}
			   AND 어플리케이션코드      = ${어플리케이션코드}
			   AND IT운영SMS일련번호   = ${IT운영SMS일련번호}
			   AND IT운영SMS부가일련번호 = ${IT운영SMS부가일련번호}
			   AND IT운영SMS전송시각   = ${IT운영SMS전송시각}
		]]>
    </statement>

    <!--  -->
    <statement name="retvGCB_ItOpSmsTrsHisLstTrs" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::12.IT운영SMS관리::GCB_IT운영SMS전송내역Ebi::GCB_IT운영SMS전송내역Dao::GCB_IT운영SMS전송내역최종전송조회">
		<![CDATA[
			SELECT /*+ 위상규::/gcb/itOpSmsMg/gCB_ItOpSmsTrsHisEbi/TBGCBSM04/retvGCB_ItOpSmsTrsHisLstTrs */ 
			       COUNT(1) 전송건수_N7
			     , NVL(MAX(A.IT운영SMS전송시각), '000000') IT운영SMS전송시각
			  FROM INSTC.TBGCBSM04 A 
			 WHERE A.IT운영SMS전송년월일 = ${IT운영SMS전송년월일}
			   AND A.어플리케이션코드 = ${어플리케이션코드}
			   AND A.IT운영SMS일련번호 = ${IT운영SMS일련번호}
			   AND A.IT운영SMS부가일련번호 = ${IT운영SMS부가일련번호}
			   AND A.IT운영SMS전송시각 NOT LIKE 'E%'
		]]>
    </statement>

    <!--  -->
    <statement name="regtGCB_ItOpSmsTrsHis" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::12.IT운영SMS관리::GCB_IT운영SMS전송내역Ebi::GCB_IT운영SMS전송내역Dao::GCB_IT운영SMS전송내역등록" >
		<![CDATA[
			INSERT /*+ 위상규::/gcb/itOpSmsMg/gCB_ItOpSmsTrsHisEbi/TBGCBSM04/regtGCB_ItOpSmsTrsHis */
			  INTO INSTC.TBGCBSM04
			(
			   IT운영SMS전송년월일
			 , 어플리케이션코드
			 , IT운영SMS일련번호
			 , IT운영SMS부가일련번호
			 , IT운영SMS전송시각
			 , SMS전송거래유형구분코드
			 , SMS전송거래코드
			 , SMS전송배치작업명
			 , SMS전송프로그램명
			 , SMS전송메시지내용
			 , IT운영SMS비고
			 , 시스템최종갱신일시
			 , 시스템최종갱신식별자
			 , 시스템최종거래일시
			)
			VALUES
			(
			  ${IT운영SMS전송년월일}
			 ,${어플리케이션코드}
			 ,${IT운영SMS일련번호}
			 ,${IT운영SMS부가일련번호}
			 ,${IT운영SMS전송시각}
			 ,${SMS전송거래유형구분코드}
			 ,${SMS전송거래코드}
			 ,${SMS전송배치작업명}
			 ,${SMS전송프로그램명}
			 ,${SMS전송메시지내용}
			 ,${IT운영SMS비고}
			 ,SYSTIMESTAMP
			 ,${시스템최종갱신식별자}
			 ,${시스템최종거래일시}
			)
		]]>
    </statement>
</statements>
