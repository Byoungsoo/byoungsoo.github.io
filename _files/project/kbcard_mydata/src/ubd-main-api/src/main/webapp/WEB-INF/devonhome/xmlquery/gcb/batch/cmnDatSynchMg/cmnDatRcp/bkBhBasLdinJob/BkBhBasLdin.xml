<?xml version="1.0" encoding="EUC-KR"?>
<statements>

    <!--  -->
    <statement name="retvBhBas" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::06.배치컴포넌트::01.공통데이터동기화관리::01.공통데이터접수::은행부점기본적재Job::DAO::은행부점기본적재Bdao::부점기본조회" >
		<![CDATA[
			SELECT /*+ 위상규::/gcb/batch/cmnDatSynchMg/cmnDatRcp/bkBhBasLdinJob/BkBhBasLdin/retvBhBas */ 
			       A.부점코드
			     , A.적용시작년월일
			     , A.적용종료년월일
			     , A.부점개점년월일
			     , A.부점폐쇄년월일
			     , A.은행코드
			     , A.한글부점명
			     , A.한글약어부점명
			     , A.영문부점명
			     , A.우편번호
			     , A.한글부점상세주소
			     , A.영문부점상세주소
			     , A.부점구분코드
			     , A.출장소모점부점코드
			     , A.부점전화번호
			     , A.부점ARS전화번호
			     , A.부점팩스번호1
			     , A.부점팩스번호용도내용1
			     , A.부점팩스번호2
			     , A.부점팩스번호용도내용2
			     , A.사업자등록번호
			     , A.부점관할세무서명
			     , A.회계발생구분코드
			     , A.계정처리부점코드
			     , A.영업지원본부부점코드
			     , A.사업본부부점코드
			     , A.어음교환소모점코드
			     , A.어음교환소코드
			     , A.국고결제모점코드
			     , A.한국은행통할점구분코드
			     , A.공금예금모점코드
			     , A.은행외환구분코드
			     , A.외환부점코드
			     , A.외환부점구분코드
			     , A.외환취급부점구분코드
			     , A.부점외환개시년월일
			     , A.부점외환종료년월일
			     , A.은행외환모점코드
			     , A.외환모점외환부점코드
			     , A.통합부점코드
			     , A.수표지급지명
			     , A.대출실행팀부점코드
			     , A.대출서류원본보관부점코드
			     , A.프로세스센터부점코드
			     , A.내부통제자직원번호
			     , A.내부통제자휴대폰번호
			     , A.부점장직원번호
			     , A.부점장휴대폰번호
			     , A.부점정보변경항목내용
			     , A.부점정보변경사유
			     , A.점포유형구분코드
			     , A.부점장휴대폰변경년월일
			     , A.내부통제자휴대폰변경년월일
			     , A.지주회사구분코드
			     , A.주소표시구분코드
			     , A.한글확장부점명
			     , A.부점이메일주소
			     , A.영업소관리부점코드
			     , TO_CHAR(A.시스템최종갱신일시, 'YYYYMMDDHH24MISS') as 시스템최종갱신일시
			     , A.시스템최종갱신식별자
			     , A.시스템최종거래일시
			  FROM INSTC.TBGCBBR01 A 
			 WHERE A.부점코드    = ${부점코드}
			   AND A.적용시작년월일 = ${적용시작년월일}
		]]>
    </statement>

    <!--  -->
    <statement name="retvBhPrevPhs" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::06.배치컴포넌트::01.공통데이터동기화관리::01.공통데이터접수::은행부점기본적재Job::DAO::은행부점기본적재Bdao::부점종전이력조회">
		<![CDATA[
			SELECT /*+ 위상규::/gcb/batch/cmnDatSynchMg/cmnDatRcp/bkBhBasLdinJob/BkBhBasLdin/retvBhPrevPhs */ 
			       A.부점코드
			     , A.적용시작년월일
			     , A.적용종료년월일
			     , A.부점개점년월일
			     , A.부점폐쇄년월일
			     , A.은행코드
			     , A.한글부점명
			     , A.한글약어부점명
			     , A.영문부점명
			     , A.우편번호
			     , A.한글부점상세주소
			     , A.영문부점상세주소
			     , A.부점구분코드
			     , A.출장소모점부점코드
			     , A.부점전화번호
			     , A.부점ARS전화번호
			     , A.부점팩스번호1
			     , A.부점팩스번호용도내용1
			     , A.부점팩스번호2
			     , A.부점팩스번호용도내용2
			     , A.사업자등록번호
			     , A.부점관할세무서명
			     , A.회계발생구분코드
			     , A.계정처리부점코드
			     , A.영업지원본부부점코드
			     , A.사업본부부점코드
			     , A.어음교환소모점코드
			     , A.어음교환소코드
			     , A.국고결제모점코드
			     , A.한국은행통할점구분코드
			     , A.공금예금모점코드
			     , A.은행외환구분코드
			     , A.외환부점코드
			     , A.외환부점구분코드
			     , A.외환취급부점구분코드
			     , A.부점외환개시년월일
			     , A.부점외환종료년월일
			     , A.은행외환모점코드
			     , A.외환모점외환부점코드
			     , A.통합부점코드
			     , A.수표지급지명
			     , A.대출실행팀부점코드
			     , A.대출서류원본보관부점코드
			     , A.프로세스센터부점코드
			     , A.내부통제자직원번호
			     , A.내부통제자휴대폰번호
			     , A.부점장직원번호
			     , A.부점장휴대폰번호
			     , A.부점정보변경항목내용
			     , A.부점정보변경사유
			     , A.점포유형구분코드
			     , A.부점장휴대폰변경년월일
			     , A.내부통제자휴대폰변경년월일
			     , A.지주회사구분코드
			     , A.주소표시구분코드
			     , A.한글확장부점명
			     , A.부점이메일주소
			     , A.영업소관리부점코드
			     , TO_CHAR(A.시스템최종갱신일시, 'YYYYMMDDHH24MISS') as 시스템최종갱신일시
			     , A.시스템최종갱신식별자
			     , A.시스템최종거래일시
			  FROM INSTC.TBGCBBR01 A 
			 WHERE A.부점코드 = ${부점코드}
			   AND A.적용시작년월일 = (SELECT MAX(적용시작년월일) 적용시작년월일
			                        FROM INSTC.TBGCBBR01 B
			                       WHERE B.부점코드 = ${부점코드}
			                         AND B.적용시작년월일 < ${적용시작년월일})
		]]>
    </statement>

    <!--  -->
    <statement name="retvBhLstPhs" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::06.배치컴포넌트::01.공통데이터동기화관리::01.공통데이터접수::은행부점기본적재Job::DAO::은행부점기본적재Bdao::부점최종이력조회">
		<![CDATA[
			SELECT /*+ 위상규::/gcb/batch/cmnDatSynchMg/cmnDatRcp/bkBhBasLdinJob/BkBhBasLdin/retvBhLstPhs */ 
			       A.부점코드
			     , A.적용시작년월일
			     , A.적용종료년월일
			     , A.부점개점년월일
			     , A.부점폐쇄년월일
			     , A.은행코드
			     , A.한글부점명
			     , A.한글약어부점명
			     , A.영문부점명
			     , A.우편번호
			     , A.한글부점상세주소
			     , A.영문부점상세주소
			     , A.부점구분코드
			     , A.출장소모점부점코드
			     , A.부점전화번호
			     , A.부점ARS전화번호
			     , A.부점팩스번호1
			     , A.부점팩스번호용도내용1
			     , A.부점팩스번호2
			     , A.부점팩스번호용도내용2
			     , A.사업자등록번호
			     , A.부점관할세무서명
			     , A.회계발생구분코드
			     , A.계정처리부점코드
			     , A.영업지원본부부점코드
			     , A.사업본부부점코드
			     , A.어음교환소모점코드
			     , A.어음교환소코드
			     , A.국고결제모점코드
			     , A.한국은행통할점구분코드
			     , A.공금예금모점코드
			     , A.은행외환구분코드
			     , A.외환부점코드
			     , A.외환부점구분코드
			     , A.외환취급부점구분코드
			     , A.부점외환개시년월일
			     , A.부점외환종료년월일
			     , A.은행외환모점코드
			     , A.외환모점외환부점코드
			     , A.통합부점코드
			     , A.수표지급지명
			     , A.대출실행팀부점코드
			     , A.대출서류원본보관부점코드
			     , A.프로세스센터부점코드
			     , A.내부통제자직원번호
			     , A.내부통제자휴대폰번호
			     , A.부점장직원번호
			     , A.부점장휴대폰번호
			     , A.부점정보변경항목내용
			     , A.부점정보변경사유
			     , A.점포유형구분코드
			     , A.부점장휴대폰변경년월일
			     , A.내부통제자휴대폰변경년월일
			     , A.지주회사구분코드
			     , A.주소표시구분코드
			     , A.한글확장부점명
			     , A.부점이메일주소
			     , A.영업소관리부점코드
			     , TO_CHAR(A.시스템최종갱신일시, 'YYYYMMDDHH24MISS') as 시스템최종갱신일시
			     , A.시스템최종갱신식별자
			     , A.시스템최종거래일시
			  FROM INSTC.TBGCBBR01 A 
			 WHERE A.부점코드    = ${부점코드}
			   AND A.적용시작년월일 = (SELECT MIN(적용시작년월일) 적용시작년월일
			                        FROM INSTC.TBGCBBR01 B
			                       WHERE B.부점코드 = ${부점코드}
			                         AND B.적용시작년월일 > ${적용시작년월일})
		]]>
    </statement>

    <!--  -->
    <statement name="regtBhBas" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::06.배치컴포넌트::01.공통데이터동기화관리::01.공통데이터접수::은행부점기본적재Job::DAO::은행부점기본적재Bdao::부점기본등록" >
		<![CDATA[
			INSERT /*+ 위상규::/gcb/batch/cmnDatSynchMg/cmnDatRcp/bkBhBasLdinJob/BkBhBasLdin/regtBhBas */
			  INTO INSTC.TBGCBBR01
			(
			   부점코드
			 , 적용시작년월일
			 , 적용종료년월일
			 , 부점개점년월일
			 , 부점폐쇄년월일
			 , 은행코드
			 , 한글부점명
			 , 한글약어부점명
			 , 영문부점명
			 , 우편번호
			 , 한글부점상세주소
			 , 영문부점상세주소
			 , 부점구분코드
			 , 출장소모점부점코드
			 , 부점전화번호
			 , 부점ARS전화번호
			 , 부점팩스번호1
			 , 부점팩스번호용도내용1
			 , 부점팩스번호2
			 , 부점팩스번호용도내용2
			 , 사업자등록번호
			 , 부점관할세무서명
			 , 회계발생구분코드
			 , 계정처리부점코드
			 , 영업지원본부부점코드
			 , 사업본부부점코드
			 , 어음교환소모점코드
			 , 어음교환소코드
			 , 국고결제모점코드
			 , 한국은행통할점구분코드
			 , 공금예금모점코드
			 , 은행외환구분코드
			 , 외환부점코드
			 , 외환부점구분코드
			 , 외환취급부점구분코드
			 , 부점외환개시년월일
			 , 부점외환종료년월일
			 , 은행외환모점코드
			 , 외환모점외환부점코드
			 , 통합부점코드
			 , 수표지급지명
			 , 대출실행팀부점코드
			 , 대출서류원본보관부점코드
			 , 프로세스센터부점코드
			 , 내부통제자직원번호
			 , 내부통제자휴대폰번호
			 , 부점장직원번호
			 , 부점장휴대폰번호
			 , 부점정보변경항목내용
			 , 부점정보변경사유
			 , 점포유형구분코드
			 , 부점장휴대폰변경년월일
			 , 내부통제자휴대폰변경년월일
			 , 지주회사구분코드
			 , 주소표시구분코드
			 , 한글확장부점명
			 , 부점이메일주소
			 , 영업소관리부점코드
			 , 시스템최종갱신일시
			 , 시스템최종갱신식별자
			 , 시스템최종거래일시
			)
			VALUES
			(
			  ${부점코드}
			 ,${적용시작년월일}
			 ,${적용종료년월일}
			 ,${부점개점년월일}
			 ,${부점폐쇄년월일}
			 ,${은행코드}
			 ,${한글부점명}
			 ,${한글약어부점명}
			 ,${영문부점명}
			 ,${우편번호}
			 ,${한글부점상세주소}
			 ,${영문부점상세주소}
			 ,${부점구분코드}
			 ,${출장소모점부점코드}
			 ,${부점전화번호}
			 ,${부점ARS전화번호}
			 ,${부점팩스번호1}
			 ,${부점팩스번호용도내용1}
			 ,${부점팩스번호2}
			 ,${부점팩스번호용도내용2}
			 ,${사업자등록번호}
			 ,${부점관할세무서명}
			 ,${회계발생구분코드}
			 ,${계정처리부점코드}
			 ,${영업지원본부부점코드}
			 ,${사업본부부점코드}
			 ,${어음교환소모점코드}
			 ,${어음교환소코드}
			 ,${국고결제모점코드}
			 ,${한국은행통할점구분코드}
			 ,${공금예금모점코드}
			 ,${은행외환구분코드}
			 ,${외환부점코드}
			 ,${외환부점구분코드}
			 ,${외환취급부점구분코드}
			 ,${부점외환개시년월일}
			 ,${부점외환종료년월일}
			 ,${은행외환모점코드}
			 ,${외환모점외환부점코드}
			 ,${통합부점코드}
			 ,${수표지급지명}
			 ,${대출실행팀부점코드}
			 ,${대출서류원본보관부점코드}
			 ,${프로세스센터부점코드}
			 ,${내부통제자직원번호}
			 ,${내부통제자휴대폰번호}
			 ,${부점장직원번호}
			 ,${부점장휴대폰번호}
			 ,${부점정보변경항목내용}
			 ,${부점정보변경사유}
			 ,${점포유형구분코드}
			 ,${부점장휴대폰변경년월일}
			 ,${내부통제자휴대폰변경년월일}
			 ,${지주회사구분코드}
			 ,${주소표시구분코드}
			 ,${한글확장부점명}
			 ,${부점이메일주소}
			 ,${영업소관리부점코드}
			 ,SYSTIMESTAMP
			 ,${시스템최종갱신식별자}
			 ,${시스템최종거래일시}
			)
		]]>
    </statement>

    <!--  -->
    <statement name="uptBhBas" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::06.배치컴포넌트::01.공통데이터동기화관리::01.공통데이터접수::은행부점기본적재Job::DAO::은행부점기본적재Bdao::부점기본수정">
		<![CDATA[
			UPDATE /*+ 위상규::/gcb/batch/cmnDatSynchMg/cmnDatRcp/bkBhBasLdinJob/BkBhBasLdin/uptBhBas */ 
			       INSTC.TBGCBBR01 
			   SET 적용종료년월일       = ${적용종료년월일}
			     , 부점개점년월일       = ${부점개점년월일}
			     , 부점폐쇄년월일       = ${부점폐쇄년월일}
			     , 은행코드          = ${은행코드}
			     , 한글부점명         = ${한글부점명}
			     , 한글약어부점명       = ${한글약어부점명}
			     , 영문부점명         = ${영문부점명}
			     , 우편번호          = NVL(${우편번호}, 우편번호)
			     , 한글부점상세주소      = NVL(${한글부점상세주소}, 한글부점상세주소)
			     , 영문부점상세주소      = ${영문부점상세주소}
			     , 부점구분코드        = ${부점구분코드}
			     , 출장소모점부점코드     = ${출장소모점부점코드}
			     , 부점전화번호        = ${부점전화번호}
			     , 부점ARS전화번호     = ${부점ARS전화번호}
			     , 부점팩스번호1       = ${부점팩스번호1}
			     , 부점팩스번호용도내용1   = ${부점팩스번호용도내용1}
			     , 부점팩스번호2       = ${부점팩스번호2}
			     , 부점팩스번호용도내용2   = ${부점팩스번호용도내용2}
			     , 사업자등록번호       = ${사업자등록번호}
			     , 부점관할세무서명      = ${부점관할세무서명}
			     , 회계발생구분코드      = ${회계발생구분코드}
			     , 계정처리부점코드      = ${계정처리부점코드}
			     , 영업지원본부부점코드    = ${영업지원본부부점코드}
			     , 사업본부부점코드      = ${사업본부부점코드}
			     , 어음교환소모점코드     = ${어음교환소모점코드}
			     , 어음교환소코드       = ${어음교환소코드}
			     , 국고결제모점코드      = ${국고결제모점코드}
			     , 한국은행통할점구분코드   = ${한국은행통할점구분코드}
			     , 공금예금모점코드      = ${공금예금모점코드}
			     , 은행외환구분코드      = ${은행외환구분코드}
			     , 외환부점코드        = ${외환부점코드}
			     , 외환부점구분코드      = ${외환부점구분코드}
			     , 외환취급부점구분코드    = ${외환취급부점구분코드}
			     , 부점외환개시년월일     = ${부점외환개시년월일}
			     , 부점외환종료년월일     = ${부점외환종료년월일}
			     , 은행외환모점코드      = ${은행외환모점코드}
			     , 외환모점외환부점코드    = ${외환모점외환부점코드}
			     , 통합부점코드        = ${통합부점코드}
			     , 수표지급지명        = ${수표지급지명}
			     , 대출실행팀부점코드     = ${대출실행팀부점코드}
			     , 대출서류원본보관부점코드  = ${대출서류원본보관부점코드}
			     , 프로세스센터부점코드    = ${프로세스센터부점코드}
			     , 내부통제자직원번호     = ${내부통제자직원번호}
			     , 내부통제자휴대폰번호    = ${내부통제자휴대폰번호}
			     , 부점장직원번호       = ${부점장직원번호}
			     , 부점장휴대폰번호      = ${부점장휴대폰번호}
			     , 부점정보변경항목내용    = ${부점정보변경항목내용}
			     , 부점정보변경사유      = ${부점정보변경사유}
			     , 점포유형구분코드      = ${점포유형구분코드}
			     , 부점장휴대폰변경년월일   = ${부점장휴대폰변경년월일}
			     , 내부통제자휴대폰변경년월일 = ${내부통제자휴대폰변경년월일}
			     , 지주회사구분코드      = ${지주회사구분코드}
			     , 주소표시구분코드      = ${주소표시구분코드}
			     , 한글확장부점명       = ${한글확장부점명}
			     , 부점이메일주소       = ${부점이메일주소}
			     , 영업소관리부점코드     = ${영업소관리부점코드}
			     , 시스템최종갱신일시     = SYSTIMESTAMP
			     , 시스템최종갱신식별자    = ${시스템최종갱신식별자}
			     , 시스템최종거래일시     = ${시스템최종거래일시}
			 WHERE 부점코드    = ${부점코드}
			   AND 적용시작년월일 = ${적용시작년월일}
		]]>
    </statement>
</statements>
