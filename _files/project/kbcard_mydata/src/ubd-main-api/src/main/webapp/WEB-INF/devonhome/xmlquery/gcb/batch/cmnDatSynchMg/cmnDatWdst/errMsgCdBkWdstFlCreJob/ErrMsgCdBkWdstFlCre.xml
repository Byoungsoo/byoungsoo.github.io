<?xml version="1.0" encoding="EUC-KR"?>
<statements>

    <!--  -->
    <!-- 20210516 최웅기 CDC 테이블명 변경  TBGCBER01	:: TBUBDJ001
    <statement name="retvErrMsgCdMdNcn" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::06.배치컴포넌트::01.공통데이터동기화관리::02.공통데이터배포::오류메시지코드은행배포파일생성Job::DAO::오류메시지코드은행배포파일생성Bdao::오류메시지코드변경건수조회">
		<![CDATA[
			SELECT /*+ 위상규::/gcb/batch/cmnDatSynchMg/cmnDatWdst/errMsgCdBkWdstFlCreJob/ErrMsgCdBkWdstFlCre/retvErrMsgCdMdNcn */ 
			       COUNT(1) 배포대상데이터건수
			  FROM INSTC.TBGCBER01 A 
			 WHERE (A.시스템최종거래일시 BETWEEN ${적용시작년월일} || '000000000000' AND ${적용종료년월일} || '235959999999'
			    OR TO_CHAR(A.시스템최종갱신일시, 'YYYYMMDD') BETWEEN ${적용시작년월일} AND ${적용종료년월일})
			   AND (A.오류메시지코드 LIKE 'A%' OR A.오류메시지코드 LIKE 'T%' OR A.오류메시지코드 LIKE 'I%' OR A.오류메시지코드 LIKE 'R%')
		]]>
    </statement>
	-->
	<statement name="retvErrMsgCdMdNcn" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::06.배치컴포넌트::01.공통데이터동기화관리::02.공통데이터배포::오류메시지코드은행배포파일생성Job::DAO::오류메시지코드은행배포파일생성Bdao::오류메시지코드변경건수조회">
		<![CDATA[
			SELECT /*+ 위상규::/gcb/batch/cmnDatSynchMg/cmnDatWdst/errMsgCdBkWdstFlCreJob/ErrMsgCdBkWdstFlCre/retvErrMsgCdMdNcn */ 
			       COUNT(1) 배포대상데이터건수
			  FROM INSTC.TBUBDJ001 A 
			 WHERE (A.시스템최종거래일시 BETWEEN ${적용시작년월일} || '000000000000' AND ${적용종료년월일} || '235959999999'
			    OR TO_CHAR(A.시스템최종갱신일시, 'YYYYMMDD') BETWEEN ${적용시작년월일} AND ${적용종료년월일})
			   AND (A.오류메시지코드 LIKE 'A%' OR A.오류메시지코드 LIKE 'T%' OR A.오류메시지코드 LIKE 'I%' OR A.오류메시지코드 LIKE 'R%')
		]]>
    </statement>
    <!--  -->
    <!-- 20210516 최웅기 CDC 테이블명 변경  TBGCBER01	:: TBUBDJ001
    <statement name="retvLstErrMsgCdMd" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::06.배치컴포넌트::01.공통데이터동기화관리::02.공통데이터배포::오류메시지코드은행배포파일생성Job::DAO::오류메시지코드은행배포파일생성Bdao::오류메시지코드변경목록조회">
		<![CDATA[
			SELECT /*+ 위상규::/gcb/batch/cmnDatSynchMg/cmnDatWdst/errMsgCdBkWdstFlCreJob/ErrMsgCdBkWdstFlCre/retvLstErrMsgCdMd */ 
			       A.언어구분코드
			     , A.메시지채널구분코드
			     , A.오류메시지코드
			     , A.적용시작년월일
			     , A.적용종료년월일
			     , A.등록년월일
			     , A.채널오류코드
			     , A.오류메시지사용여부
			     , A.센터컷중단구분코드
			     , A.중요오류해당여부
			     , A.책임자승인구분코드
			     , A.책임자사유등급구분코드
			     , A.등록어플리케이션코드
			     , A.오류메시지출력내용
			     , TO_CHAR(A.시스템최종갱신일시, 'YYYYMMDDHH24MISSFF6') 시스템최종갱신일시_V20
			     , A.시스템최종갱신식별자
			     , A.시스템최종거래일시 
			  FROM INSTC.TBGCBER01 A 
			 WHERE (A.시스템최종거래일시 BETWEEN ${적용시작년월일} || '000000000000' AND ${적용종료년월일} || '235959999999'
			    OR TO_CHAR(A.시스템최종갱신일시, 'YYYYMMDD') BETWEEN ${적용시작년월일} AND ${적용종료년월일})
			   AND (A.오류메시지코드 LIKE 'A%' OR A.오류메시지코드 LIKE 'T%' OR A.오류메시지코드 LIKE 'I%' OR A.오류메시지코드 LIKE 'R%')
			 ORDER BY A.언어구분코드
			     , A.메시지채널구분코드
			     , A.오류메시지코드
			     , A.적용시작년월일
		]]>
    </statement>
	-->
	<statement name="retvLstErrMsgCdMd" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::06.배치컴포넌트::01.공통데이터동기화관리::02.공통데이터배포::오류메시지코드은행배포파일생성Job::DAO::오류메시지코드은행배포파일생성Bdao::오류메시지코드변경목록조회">
		<![CDATA[
			SELECT /*+ 위상규::/gcb/batch/cmnDatSynchMg/cmnDatWdst/errMsgCdBkWdstFlCreJob/ErrMsgCdBkWdstFlCre/retvLstErrMsgCdMd */ 
			       A.언어구분코드
			     , A.메시지채널구분코드
			     , A.오류메시지코드
			     , A.적용시작년월일
			     , A.적용종료년월일
			     , A.등록년월일
			     , A.채널오류코드
			     , A.오류메시지사용여부
			     , A.센터컷중단구분코드
			     , A.중요오류해당여부
			     , A.책임자승인구분코드
			     , A.책임자사유등급구분코드
			     , A.등록어플리케이션코드
			     , A.오류메시지출력내용
			     , TO_CHAR(A.시스템최종갱신일시, 'YYYYMMDDHH24MISSFF6') 시스템최종갱신일시_V20
			     , A.시스템최종갱신식별자
			     , A.시스템최종거래일시 
			  FROM INSTC.TBUBDJ001 A 
			 WHERE (A.시스템최종거래일시 BETWEEN ${적용시작년월일} || '000000000000' AND ${적용종료년월일} || '235959999999'
			    OR TO_CHAR(A.시스템최종갱신일시, 'YYYYMMDD') BETWEEN ${적용시작년월일} AND ${적용종료년월일})
			   AND (A.오류메시지코드 LIKE 'A%' OR A.오류메시지코드 LIKE 'T%' OR A.오류메시지코드 LIKE 'I%' OR A.오류메시지코드 LIKE 'R%')
			 ORDER BY A.언어구분코드
			     , A.메시지채널구분코드
			     , A.오류메시지코드
			     , A.적용시작년월일
		]]>
    </statement>
    <!--  -->
    <!-- 20210516 최웅기 CDC 테이블명 변경  TBGCBER01	:: TBUBDJ001	
    <statement name="retvErrMsgCdWhlNcn" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::06.배치컴포넌트::01.공통데이터동기화관리::02.공통데이터배포::오류메시지코드은행배포파일생성Job::DAO::오류메시지코드은행배포파일생성Bdao::오류메시지코드전체건수조회">
		<![CDATA[
			SELECT /*+ 위상규::/gcb/batch/cmnDatSynchMg/cmnDatWdst/errMsgCdBkWdstFlCreJob/ErrMsgCdBkWdstFlCre/retvErrMsgCdWhlNcn */ 
			       COUNT(1) 배포대상데이터건수
			  FROM INSTC.TBGCBER01 A
			 WHERE A.오류메시지코드 LIKE 'A%'
			    OR A.오류메시지코드 LIKE 'T%'
			    OR A.오류메시지코드 LIKE 'I%'
			    OR A.오류메시지코드 LIKE 'R%'
		]]>
    </statement>
	-->
	<statement name="retvErrMsgCdWhlNcn" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::06.배치컴포넌트::01.공통데이터동기화관리::02.공통데이터배포::오류메시지코드은행배포파일생성Job::DAO::오류메시지코드은행배포파일생성Bdao::오류메시지코드전체건수조회">
		<![CDATA[
			SELECT /*+ 위상규::/gcb/batch/cmnDatSynchMg/cmnDatWdst/errMsgCdBkWdstFlCreJob/ErrMsgCdBkWdstFlCre/retvErrMsgCdWhlNcn */ 
			       COUNT(1) 배포대상데이터건수
			  FROM INSTC.TBUBDJ001	 A
			 WHERE A.오류메시지코드 LIKE 'A%'
			    OR A.오류메시지코드 LIKE 'T%'
			    OR A.오류메시지코드 LIKE 'I%'
			    OR A.오류메시지코드 LIKE 'R%'
		]]>
    </statement>
    <!--  -->
    <!-- 20210516 최웅기 CDC 테이블명 변경  TBGCBER01	:: TBUBDJ001
    <statement name="retvLstErrMsgCdWhl" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::06.배치컴포넌트::01.공통데이터동기화관리::02.공통데이터배포::오류메시지코드은행배포파일생성Job::DAO::오류메시지코드은행배포파일생성Bdao::오류메시지코드전체목록조회">
		<![CDATA[
			SELECT /*+ 위상규::/gcb/batch/cmnDatSynchMg/cmnDatWdst/errMsgCdBkWdstFlCreJob/ErrMsgCdBkWdstFlCre/retvLstErrMsgCdWhl */ 
			       A.언어구분코드
			     , A.메시지채널구분코드
			     , A.오류메시지코드
			     , A.적용시작년월일
			     , A.적용종료년월일
			     , A.등록년월일
			     , A.채널오류코드
			     , A.오류메시지사용여부
			     , A.센터컷중단구분코드
			     , A.중요오류해당여부
			     , A.책임자승인구분코드
			     , A.책임자사유등급구분코드
			     , A.등록어플리케이션코드
			     , A.오류메시지출력내용
			     , TO_CHAR(A.시스템최종갱신일시, 'YYYYMMDDHH24MISSFF6') 시스템최종갱신일시_V20
			     , A.시스템최종갱신식별자
			     , A.시스템최종거래일시 
			  FROM INSTC.TBGCBER01 A
			 WHERE A.오류메시지코드 LIKE 'A%'
			    OR A.오류메시지코드 LIKE 'T%'
			    OR A.오류메시지코드 LIKE 'I%'
			    OR A.오류메시지코드 LIKE 'R%'
			 ORDER BY A.언어구분코드
			     , A.메시지채널구분코드
			     , A.오류메시지코드
			     , A.적용시작년월일
		]]>
    </statement>
	-->
	<statement name="retvLstErrMsgCdWhl" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::06.배치컴포넌트::01.공통데이터동기화관리::02.공통데이터배포::오류메시지코드은행배포파일생성Job::DAO::오류메시지코드은행배포파일생성Bdao::오류메시지코드전체목록조회">
		<![CDATA[
			SELECT /*+ 위상규::/gcb/batch/cmnDatSynchMg/cmnDatWdst/errMsgCdBkWdstFlCreJob/ErrMsgCdBkWdstFlCre/retvLstErrMsgCdWhl */ 
			       A.언어구분코드
			     , A.메시지채널구분코드
			     , A.오류메시지코드
			     , A.적용시작년월일
			     , A.적용종료년월일
			     , A.등록년월일
			     , A.채널오류코드
			     , A.오류메시지사용여부
			     , A.센터컷중단구분코드
			     , A.중요오류해당여부
			     , A.책임자승인구분코드
			     , A.책임자사유등급구분코드
			     , A.등록어플리케이션코드
			     , A.오류메시지출력내용
			     , TO_CHAR(A.시스템최종갱신일시, 'YYYYMMDDHH24MISSFF6') 시스템최종갱신일시_V20
			     , A.시스템최종갱신식별자
			     , A.시스템최종거래일시 
			  FROM INSTC.TBUBDJ001 A
			 WHERE A.오류메시지코드 LIKE 'A%'
			    OR A.오류메시지코드 LIKE 'T%'
			    OR A.오류메시지코드 LIKE 'I%'
			    OR A.오류메시지코드 LIKE 'R%'
			 ORDER BY A.언어구분코드
			     , A.메시지채널구분코드
			     , A.오류메시지코드
			     , A.적용시작년월일
		]]>
    </statement>
    <!--  -->
    <statement name="regtCmnDatWdstHis" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::06.배치컴포넌트::01.공통데이터동기화관리::02.공통데이터배포::오류메시지코드은행배포파일생성Job::DAO::오류메시지코드은행배포파일생성Bdao::공통데이터배포내역등록" >
		<![CDATA[
			INSERT /*+ 위상규::/gcb/batch/cmnDatSynchMg/cmnDatWdst/errMsgCdBkWdstFlCreJob/ErrMsgCdBkWdstFlCre/regtCmnDatWdstHis */
			  INTO INSTC.TBGCBDM02
			(
			   공통데이터테이블명
			 , 배포작업시스템식별구분코드
			 , 배포대상시스템ID
			 , 작업기준년월일
			 , 배포작업처리회차
			 , 배포작업단계구분코드
			 , 배포파일구분코드
			 , 배포작업결과구분코드
			 , 배포대상데이터건수
			 , 배포작업시작년월일
			 , 배포작업시작시각
			 , 배포작업종료년월일
			 , 배포작업종료시각
			 , 배포작업오류발생내용
			 , 시스템최종갱신일시
			 , 시스템최종갱신식별자
			 , 시스템최종거래일시
			)
			VALUES
			(
			  ${공통데이터테이블명}
			 ,${배포작업시스템식별구분코드}
			 ,${배포대상시스템ID}
			 ,${작업기준년월일}
			 ,${배포작업처리회차}
			 ,${배포작업단계구분코드}
			 ,${배포파일구분코드}
			 ,${배포작업결과구분코드}
			 ,${배포대상데이터건수}
			 ,${배포작업시작년월일}
			 ,${배포작업시작시각}
			 ,${배포작업종료년월일}
			 ,${배포작업종료시각}
			 ,${배포작업오류발생내용}
			 ,SYSTIMESTAMP
			 ,${시스템최종갱신식별자}
			 ,${시스템최종거래일시}
			)
		]]>
    </statement>
</statements>
