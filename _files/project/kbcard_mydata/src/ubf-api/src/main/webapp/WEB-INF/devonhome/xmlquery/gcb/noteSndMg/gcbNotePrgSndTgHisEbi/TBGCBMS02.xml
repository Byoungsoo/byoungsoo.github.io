<?xml version="1.0" encoding="EUC-KR"?>
<statements>

    <!--  -->
    <statement name="retvGcbNotePrgSndTgHis" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::17.쪽지발송관리::GCB쪽지예약발송대상내역Ebi::GCB쪽지예약발송대상내역Dao::GCB쪽지예약발송대상내역조회" >
		<![CDATA[
			SELECT /*+ 박재훈::/gcb/noteSndMg/gcbNotePrgSndTgHisEbi/TBGCBMS02/retvGcbNotePrgSndTgHis */ 
			       A.쪽지발송예약일련번호
			     , A.쪽지발송대상식별번호
			     , A.쪽지발송대상구분코드
			     , TO_CHAR(A.시스템최종갱신일시, 'YYYYMMDDHH24MISS') as 시스템최종갱신일시
			     , A.시스템최종갱신식별자
			     , A.시스템최종거래일시
			  FROM INSTC.TBGCBMS02 A 
			 WHERE A.쪽지발송예약일련번호 = ${쪽지발송예약일련번호}
			   AND A.쪽지발송대상식별번호 = ${쪽지발송대상식별번호}
		]]>
    </statement>

    <!--  -->
    <statement name="regtGcbNotePrgSndTgHis" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::17.쪽지발송관리::GCB쪽지예약발송대상내역Ebi::GCB쪽지예약발송대상내역Dao::GCB쪽지예약발송대상내역등록" >
		<![CDATA[
			INSERT /*+ 박재훈::/gcb/noteSndMg/gcbNotePrgSndTgHisEbi/TBGCBMS02/regtGcbNotePrgSndTgHis */
			  INTO INSTC.TBGCBMS02
			(
			   쪽지발송예약일련번호
			 , 쪽지발송대상식별번호
			 , 쪽지발송대상구분코드
			 , 시스템최종갱신일시
			 , 시스템최종갱신식별자
			 , 시스템최종거래일시
			)
			VALUES
			(
			  ${쪽지발송예약일련번호}
			 ,${쪽지발송대상식별번호}
			 ,${쪽지발송대상구분코드}
			 ,SYSTIMESTAMP
			 ,${시스템최종갱신식별자}
			 ,${시스템최종거래일시}
			)
		]]>
    </statement>

    <!--  -->
    <statement name="delGcbNotePrgSndTgHis" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::17.쪽지발송관리::GCB쪽지예약발송대상내역Ebi::GCB쪽지예약발송대상내역Dao::GCB쪽지예약발송대상내역삭제" >
		<![CDATA[
			DELETE /*+ 박재훈::/gcb/noteSndMg/gcbNotePrgSndTgHisEbi/TBGCBMS02/delGcbNotePrgSndTgHis */
			  FROM INSTC.TBGCBMS02  
			 WHERE 쪽지발송예약일련번호 = ${쪽지발송예약일련번호}
			   AND 쪽지발송대상식별번호 = ${쪽지발송대상식별번호}
		]]>
    </statement>

    <!--  -->
    <statement name="uptGcbNotePrgSndTgHis" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::17.쪽지발송관리::GCB쪽지예약발송대상내역Ebi::GCB쪽지예약발송대상내역Dao::GCB쪽지예약발송대상내역수정" >
		<![CDATA[
			UPDATE /*+ 박재훈::/gcb/noteSndMg/gcbNotePrgSndTgHisEbi/TBGCBMS02/uptGcbNotePrgSndTgHis */ 
			       INSTC.TBGCBMS02 
			   SET 쪽지발송대상구분코드 = ${쪽지발송대상구분코드}
			     , 시스템최종갱신일시  = SYSTIMESTAMP
			     , 시스템최종갱신식별자 = ${시스템최종갱신식별자}
			     , 시스템최종거래일시  = ${시스템최종거래일시}
			 WHERE 쪽지발송예약일련번호 = ${쪽지발송예약일련번호}
			   AND 쪽지발송대상식별번호 = ${쪽지발송대상식별번호}
		]]>
    </statement>

    <!--  -->
    <statement name="retvLstGcbNotePrgSndTgByPrgSno" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::17.쪽지발송관리::GCB쪽지예약발송대상내역Ebi::GCB쪽지예약발송대상내역Dao::GCB쪽지예약발송대상By예약일련번호목록조회" >
		<![CDATA[
			SELECT /*+ 송재복::/gcb/noteSndMg/gcbNotePrgSndTgHisEbi/TBGCBMS02/retvLstGcbNotePrgSndTgByPrgSno */ 
			       A.쪽지발송예약일련번호
			     , A.쪽지발송대상식별번호
			     , A.쪽지발송대상구분코드
			     , TO_CHAR(A.시스템최종갱신일시, 'YYYYMMDDHH24MISS') as 시스템최종갱신일시
			     , A.시스템최종갱신식별자
			     , A.시스템최종거래일시
			  FROM INSTC.TBGCBMS02 A 
			 WHERE A.쪽지발송예약일련번호 = ${쪽지발송예약일련번호}
		]]>
    </statement>

    <!--  -->
    <statement name="retvLstGcbNotePrgSndTgByBrcd" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::17.쪽지발송관리::GCB쪽지예약발송대상내역Ebi::GCB쪽지예약발송대상내역Dao::GCB쪽지예약발송대상By부점코드목록조회">
		<![CDATA[
			SELECT /*+ 송재복::/gcb/noteSndMg/gcbNotePrgSndTgHisEbi/TBGCBMS02/retvLstGcbNotePrgSndTgByBrcd */ 
			       A.쪽지발송예약일련번호
			     , SUBSTR(A.쪽지발송대상식별번호,1,4)  부점코드  
			     , B.한글부점명
			     , B.부점구분코드
			     , B.지주회사구분코드
			  FROM INSTC.TBGCBMS02 A
			     , INSTC.TBGCBBR01 B
			 WHERE A.쪽지발송예약일련번호 = ${쪽지발송예약일련번호}
			   AND A.쪽지발송대상구분코드 = '1'
			   AND A.쪽지발송대상식별번호 = B.부점코드(+)
			   AND ${적용시작년월일} BETWEEN B.적용시작년월일 AND B.적용종료년월일
		]]>
    </statement>

    <!--  -->
    <statement name="retvLstGcbNotePrgSndTgByClwrAltm" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::17.쪽지발송관리::GCB쪽지예약발송대상내역Ebi::GCB쪽지예약발송대상내역Dao::GCB쪽지예약발송대상By사무분담목록조회">
		<![CDATA[
			SELECT /*+ 송재복::/gcb/noteSndMg/gcbNotePrgSndTgHisEbi/TBGCBMS02/retvLstGcbNotePrgSndTgByClwrAltm */ 
			       A.쪽지발송예약일련번호
			     , A.쪽지발송대상식별번호 사무분담코드
			     , B.사무분담코드명
			  FROM INSTC.TBGCBMS02 A
			     , INSTC.TBGCBHM02 B
			 WHERE A.쪽지발송예약일련번호 = ${쪽지발송예약일련번호}
			   AND A.쪽지발송대상구분코드 = '2'
			   AND A.쪽지발송대상식별번호 = B.사무분담코드(+)
		]]>
    </statement>

    <!--  -->
    <statement name="retvLstGcbNotePrgSndTgByEmpno" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::17.쪽지발송관리::GCB쪽지예약발송대상내역Ebi::GCB쪽지예약발송대상내역Dao::GCB쪽지예약발송대상By직원번호목록조회">
		<![CDATA[
			SELECT /*+ 송재복::/gcb/noteSndMg/gcbNotePrgSndTgHisEbi/TBGCBMS02/retvLstGcbNotePrgSndTgByEmpno */ 
			       A.쪽지발송예약일련번호
			     , SUBSTR(A.쪽지발송대상식별번호,1,7)  직원번호
			     , B.한글직원명
			     , B.소속부점코드
			  FROM INSTC.TBGCBMS02 A
			     , INSTC.TBGCBHR01 B
			 WHERE A.쪽지발송예약일련번호 = ${쪽지발송예약일련번호}
			   AND A.쪽지발송대상구분코드 = '3'
			   AND A.쪽지발송대상식별번호 = B.직원번호(+)
		]]>
    </statement>

    <!--  -->
    <statement name="retvLckGcbNotePrgSndTgHis" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::17.쪽지발송관리::GCB쪽지예약발송대상내역Ebi::GCB쪽지예약발송대상내역Dao::GCB쪽지예약발송대상내역락조회">
		<![CDATA[
			SELECT /*+ 송재복::/gcb/noteSndMg/gcbNotePrgSndTgHisEbi/TBGCBMS02/retvLckGcbNotePrgSndTgHis */ 
			       A.쪽지발송예약일련번호
			     , A.쪽지발송대상식별번호
			     , A.쪽지발송대상구분코드
			     , TO_CHAR(A.시스템최종갱신일시, 'YYYYMMDDHH24MISS') as 시스템최종갱신일시
			     , A.시스템최종갱신식별자
			     , A.시스템최종거래일시
			  FROM INSTC.TBGCBMS02 A 
			 WHERE A.쪽지발송예약일련번호 = ${쪽지발송예약일련번호}
			   AND A.쪽지발송대상식별번호 = ${쪽지발송대상식별번호}
			FOR UPDATE NOWAIT
		]]>
    </statement>
</statements>
