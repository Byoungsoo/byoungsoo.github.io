<?xml version="1.0" encoding="EUC-KR"?>
<statements>

    <!--  -->
    <statement name="retvItOpSmsTgTnhsDelTg" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::06.배치컴포넌트::05.IT운영지원::02.SMS통보::비즈니스에러과거내역삭제Job::DAO::비즈니스에러과거내역삭제Bdao::IT운영SMS대상거래내역삭제대상조회">
		<![CDATA[
			SELECT /*+ 위상규::/gcb/batch/itOpSpt/smsNotf/bizErrPstHisDelJob/BizErrPstHisDel/retvItOpSmsTgTnhsDelTg */ 
			       COUNT(1) 건수_N9
			     , NVL(MIN(A.오류거래발생년월일), '') 시작년월일
			     , NVL(MAX(A.오류거래발생년월일), '') 종료년월일
			  FROM INSTC.TBGCBSM13 A
			 WHERE A.오류거래발생년월일 < ${오류거래발생년월일}
		]]>
    </statement>

    <!--  -->
    <statement name="delItOpSmsTgTnhs" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::06.배치컴포넌트::05.IT운영지원::02.SMS통보::비즈니스에러과거내역삭제Job::DAO::비즈니스에러과거내역삭제Bdao::IT운영SMS대상거래내역삭제">
		<![CDATA[
			DELETE /*+ 위상규::/gcb/batch/itOpSpt/smsNotf/bizErrPstHisDelJob/BizErrPstHisDel/delItOpSmsTgTnhs */
			  FROM INSTC.TBGCBSM13
			 WHERE (오류거래발생년월일, 오류거래발생시각, 거래직원번호) IN (SELECT A.오류거래발생년월일
			                                                       , A.오류거래발생시각
			                                                       , A.거래직원번호
			                                                    FROM INSTC.TBGCBSM13 A
			                                                   WHERE A.오류거래발생년월일 < ${오류거래발생년월일}
			                                                     AND ROWNUM <= 100)
		]]>
    </statement>
</statements>
