<?xml version="1.0" encoding="EUC-KR"?>
<statements>

    <!--  -->
    <statement name="regtGcbDatEtctHis" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::18.데이터추출관리::GCB데이터추출내역Ebi::GCB데이터추출내역Dao::GCB데이터추출내역등록">
		<![CDATA[
			INSERT /*+ 김민교::/gcb/datEtctMg/gcbDatEtctHisEbi/TBGCBDE01/regtGcbDatEtctHis */
			  INTO INSTC.TBGCBDE01        /* GCB데이터추출내역 */
			(
			   어플리케이션코드
			 , 원장데이터추출일련번호
			 , 사용여부
			 , 원장데이터추출처리구분코드
			 , 원장데이터추출파일명
			 , 원장데이터추출처리내용
			 , 원장데이터추출SQL내용1
			 , 원장데이터추출SQL내용2
			 , 원장데이터추출SQL내용3
			 , 배치작업수행횟수
			 , 배치작업수행제한횟수
			 , 배치작업수행최종일시
			 , 등록직원번호
			 , 등록일시
			 , 시스템최종갱신일시
			 , 시스템최종갱신식별자
			 , 시스템최종거래일시
			)
			VALUES
			(
			  ${어플리케이션코드}
			 ,${원장데이터추출일련번호}
			 ,${사용여부}
			 ,${원장데이터추출처리구분코드}
			 ,${원장데이터추출파일명}
			 ,${원장데이터추출처리내용}
			 ,${원장데이터추출SQL내용1}
			 ,${원장데이터추출SQL내용2}
			 ,${원장데이터추출SQL내용3}
			 ,${배치작업수행횟수}
			 ,${배치작업수행제한횟수}
			 ,${배치작업수행최종일시}
			 ,${등록직원번호}
			 ,${등록일시}
			 ,SYSTIMESTAMP
			 ,${시스템최종갱신식별자}
			 ,${시스템최종거래일시}
			)
		]]>
    </statement>

    <!--  -->
    <statement name="uptGcbDatEtctHis" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::18.데이터추출관리::GCB데이터추출내역Ebi::GCB데이터추출내역Dao::GCB데이터추출내역수정">
		<![CDATA[
			UPDATE /*+ 김민교::/gcb/datEtctMg/gcbDatEtctHisEbi/TBGCBDE01/uptGcbDatEtctHis */ 
			       INSTC.TBGCBDE01        /* GCB데이터추출내역 */
			   SET 사용여부          = ${사용여부}
			     , 원장데이터추출처리내용   = ${원장데이터추출처리내용}
			     , 배치작업수행제한횟수    = ${배치작업수행제한횟수}
			     , 시스템최종갱신일시     = SYSTIMESTAMP
			     , 시스템최종갱신식별자    = ${시스템최종갱신식별자}
			     , 시스템최종거래일시     = ${시스템최종거래일시}
			 WHERE 어플리케이션코드    = ${어플리케이션코드}
			   AND 원장데이터추출일련번호 = ${원장데이터추출일련번호}
		]]>
    </statement>

    <!--  -->
    <statement name="retvLstGcbDatEtctHis" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::18.데이터추출관리::GCB데이터추출내역Ebi::GCB데이터추출내역Dao::GCB데이터추출내역목록조회">
		<![CDATA[
			SELECT /*+ 김민교::/gcb/datEtctMg/gcbDatEtctHisEbi/TBGCBDE01/retvLstGcbDatEtctHis */ 
			       A.어플리케이션코드
			     , A.원장데이터추출일련번호
			     , A.사용여부
			     , A.원장데이터추출처리구분코드
			     , A.원장데이터추출파일명
			     , A.원장데이터추출처리내용
			     , A.원장데이터추출SQL내용1
			     , A.원장데이터추출SQL내용2
			     , A.원장데이터추출SQL내용3
			     , A.배치작업수행횟수
			     , A.배치작업수행제한횟수
			     , A.배치작업수행최종일시
			     , A.등록직원번호
			     , A.등록일시
			     , TO_CHAR(A.시스템최종갱신일시, 'YYYYMMDDHH24MISS') as 시스템최종갱신일시
			     , A.시스템최종갱신식별자
			     , A.시스템최종거래일시
			  FROM INSTC.TBGCBDE01 A        /* GCB데이터추출내역 */
			 WHERE A.어플리케이션코드 = ${어플리케이션코드}
			   AND (A.사용여부 = ${사용여부}
			       OR ${사용여부} IS NULL)
			   AND (A.원장데이터추출처리구분코드 = ${원장데이터추출처리구분코드}
			       OR ${원장데이터추출처리구분코드} IS NULL)
			   AND A.원장데이터추출처리내용 LIKE '%'||${원장데이터추출처리내용}||'%'
			   AND (A.등록직원번호 = ${등록직원번호}
			       OR ${등록직원번호} IS NULL)
		]]>
    </statement>

    <!--  -->
    <statement name="retvGcbDatEtctHisCtgInqBySnoNbr" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::18.데이터추출관리::GCB데이터추출내역Ebi::GCB데이터추출내역Dao::GCB데이터추출내역목록조회By일련번호채번조회">
		<![CDATA[
			SELECT /*+ 김민교::/gcb/datEtctMg/gcbDatEtctHisEbi/TBGCBDE01/retvGcbDatEtctHisCtgInqBySnoNbr */ 
			       NVL(MAX(A.원장데이터추출일련번호), 0) + 1 원장데이터추출일련번호
			  FROM INSTC.TBGCBDE01 A        /* GCB데이터추출내역 */
			 WHERE A.어플리케이션코드    = ${어플리케이션코드}
		]]>
    </statement>

    <!--  -->
    <statement name="retvGcbDatEtctHis" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::18.데이터추출관리::GCB데이터추출내역Ebi::GCB데이터추출내역Dao::GCB데이터추출내역조회" >
		<![CDATA[
			SELECT /*+ 김민교::/gcb/datEtctMg/gcbDatEtctHisEbi/TBGCBDE01/retvGcbDatEtctHis */ 
			       A.어플리케이션코드
			     , A.원장데이터추출일련번호
			     , A.사용여부
			     , A.원장데이터추출처리구분코드
			     , A.원장데이터추출파일명
			     , A.원장데이터추출처리내용
			     , A.원장데이터추출SQL내용1
			     , A.원장데이터추출SQL내용2
			     , A.원장데이터추출SQL내용3
			     , A.배치작업수행횟수
			     , A.배치작업수행제한횟수
			     , A.배치작업수행최종일시
			     , A.등록직원번호
			     , A.등록일시
			     , TO_CHAR(A.시스템최종갱신일시, 'YYYYMMDDHH24MISS') as 시스템최종갱신일시
			     , A.시스템최종갱신식별자
			     , A.시스템최종거래일시
			  FROM INSTC.TBGCBDE01 A        /* GCB데이터추출내역 */
			 WHERE A.어플리케이션코드    = ${어플리케이션코드}
			   AND A.원장데이터추출일련번호 = ${원장데이터추출일련번호}
		]]>
    </statement>
</statements>
