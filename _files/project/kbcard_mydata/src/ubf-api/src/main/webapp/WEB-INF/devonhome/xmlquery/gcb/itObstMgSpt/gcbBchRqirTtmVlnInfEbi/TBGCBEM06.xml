<?xml version="1.0" encoding="EUC-KR"?>
<statements>

    <!--  -->
    <statement name="retvGcbBchRqirTtmVlnInfInqByVlnTg" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::21.IT장애관리지원::GCB배치소요시간검증정보Ebi::GCB배치소요시간검증정보Dao::GCB배치소요시간검증정보조회By검증대상조회">
		<![CDATA[
			SELECT /*+ 노광희::/gcb/itObstMgSpt/gcbBchRqirTtmVlnInfEbi/TBGCBEM06/retvGcbBchRqirTtmVlnInfInqByVlnTg */ 
			       A.GUID번호
			     , A.JAS작업ID
			     , A.배치작업시작일시
			     , A.배치작업종료일시
			     , A.IT운영SMS전송일시
			     , A.배치검증완료여부
			     , A.배치작업예상소요시간
			     , A.JOBID
			     , TO_CHAR(A.시스템최종갱신일시, 'YYYYMMDDHH24MISS') as 시스템최종갱신일시
			     , A.시스템최종갱신식별자
			     , A.시스템최종거래일시
			  FROM INSTC.TBGCBEM06 A        /* GCB배치소요시간검증정보 */
			 WHERE A.배치작업종료일시  is null 
			   AND A.IT운영SMS전송일시 is null
		]]>
    </statement>

    <!--  -->
    <statement name="retvGcbBchRqirTtmVlnInf" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::21.IT장애관리지원::GCB배치소요시간검증정보Ebi::GCB배치소요시간검증정보Dao::GCB배치소요시간검증정보조회" >
		<![CDATA[
			SELECT /*+ 노광희::/gcb/itObstMgSpt/gcbBchRqirTtmVlnInfEbi/TBGCBEM06/retvGcbBchRqirTtmVlnInf */ 
			       A.GUID번호
			     , A.JAS작업ID
			     , A.배치작업시작일시
			     , A.배치작업종료일시
			     , A.IT운영SMS전송일시
			     , A.배치검증완료여부
			     , A.배치작업예상소요시간
			     , A.JOBID
			     , TO_CHAR(A.시스템최종갱신일시, 'YYYYMMDDHH24MISS') as 시스템최종갱신일시
			     , A.시스템최종갱신식별자
			     , A.시스템최종거래일시
			  FROM INSTC.TBGCBEM06 A        /* GCB배치소요시간검증정보 */
			 WHERE A.GUID번호  = ${GUID번호}
			   AND A.JAS작업ID = ${JAS작업ID}
			
		]]>
    </statement>

    <!--  -->
    <statement name="retvLckGcbBchRqirTtmVlnInf" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::21.IT장애관리지원::GCB배치소요시간검증정보Ebi::GCB배치소요시간검증정보Dao::GCB배치소요시간검증정보락조회">
		<![CDATA[
			SELECT /*+ 노광희::/gcb/itObstMgSpt/gcbBchRqirTtmVlnInfEbi/TBGCBEM06/retvLckGcbBchRqirTtmVlnInf */ 
			       A.GUID번호
			     , A.JAS작업ID
			     , A.배치작업시작일시
			     , A.배치작업종료일시
			     , A.IT운영SMS전송일시
			     , A.배치검증완료여부
			     , A.배치작업예상소요시간
			     , A.JOBID
			     , TO_CHAR(A.시스템최종갱신일시, 'YYYYMMDDHH24MISS') as 시스템최종갱신일시
			     , A.시스템최종갱신식별자
			     , A.시스템최종거래일시
			  FROM INSTC.TBGCBEM06 A        /* GCB배치소요시간검증정보 */
			 WHERE A.GUID번호  = ${GUID번호}
			   AND A.JAS작업ID = ${JAS작업ID}
			FOR UPDATE NOWAIT   
		]]>
    </statement>

    <!--  -->
    <statement name="regtGcbBchRqirTtmVlnInf" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::21.IT장애관리지원::GCB배치소요시간검증정보Ebi::GCB배치소요시간검증정보Dao::GCB배치소요시간검증정보등록" >
		<![CDATA[
			INSERT /*+ 노광희::/gcb/itObstMgSpt/gcbBchRqirTtmVlnInfEbi/TBGCBEM06/regtGcbBchRqirTtmVlnInf */
			  INTO INSTC.TBGCBEM06        /* GCB배치소요시간검증정보 */
			(
			   GUID번호
			 , JAS작업ID
			 , 배치작업시작일시
			 , 배치작업종료일시
			 , IT운영SMS전송일시
			 , 배치검증완료여부
			 , 배치작업예상소요시간
			 , JOBID
			 , 시스템최종갱신일시
			 , 시스템최종갱신식별자
			 , 시스템최종거래일시
			)
			VALUES
			(
			  ${GUID번호}
			 ,${JAS작업ID}
			 ,${배치작업시작일시}
			 ,${배치작업종료일시}
			 ,${IT운영SMS전송일시}
			 ,${배치검증완료여부}
			 ,${배치작업예상소요시간}
			 ,${JOBID}
			 ,SYSTIMESTAMP
			 ,${시스템최종갱신식별자}
			 ,${시스템최종거래일시}
			)
		]]>
    </statement>

    <!--  -->
    <statement name="uptGcbBchRqirTtmVlnInf" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::21.IT장애관리지원::GCB배치소요시간검증정보Ebi::GCB배치소요시간검증정보Dao::GCB배치소요시간검증정보수정" >
		<![CDATA[
			UPDATE /*+ 노광희::/gcb/itObstMgSpt/gcbBchRqirTtmVlnInfEbi/TBGCBEM06/uptGcbBchRqirTtmVlnInf */ 
			       INSTC.TBGCBEM06        /* GCB배치소요시간검증정보 */
			   SET 배치작업시작일시    = ${배치작업시작일시}
			     , 배치작업종료일시    = ${배치작업종료일시}
			     , IT운영SMS전송일시 = ${IT운영SMS전송일시}
			     , 배치검증완료여부    = ${배치검증완료여부}
			     , 배치작업예상소요시간  = ${배치작업예상소요시간}
			     , JOBID       = ${JOBID}
			     , 시스템최종갱신일시   = SYSTIMESTAMP
			     , 시스템최종갱신식별자  = ${시스템최종갱신식별자}
			     , 시스템최종거래일시   = ${시스템최종거래일시}
			 WHERE GUID번호  = ${GUID번호}
			   AND JAS작업ID = ${JAS작업ID}
		]]>
    </statement>

    <!--  -->
    <statement name="delGcbBchRqirTtmVlnInf" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::21.IT장애관리지원::GCB배치소요시간검증정보Ebi::GCB배치소요시간검증정보Dao::GCB배치소요시간검증정보삭제" >
		<![CDATA[
			DELETE /*+ 노광희::/gcb/itObstMgSpt/gcbBchRqirTtmVlnInfEbi/TBGCBEM06/delGcbBchRqirTtmVlnInf */
			  FROM INSTC.TBGCBEM06        /* GCB배치소요시간검증정보 */
			 WHERE GUID번호  = ${GUID번호}
			   AND JAS작업ID = ${JAS작업ID}
		]]>
    </statement>
</statements>
