<?xml version="1.0" encoding="EUC-KR"?>
<statements>

    <!--  -->
    <statement name="retvLstGcbErrTrMngErrSmm" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::21.IT장애관리지원::GCB오류거래모니터링오류집계Ebi::GCB오류거래모니터링오류집계Dao::GCB오류거래모니터링오류집계목록조회">
		<![CDATA[
			SELECT /*+ 이태양::/gcb/itObstMgSpt/gcbErrTrMngErrSmmEbi/TBGCBEM12/retvLstGcbErrTrMngErrSmm */ 
			       A.상품처리거래집계구분코드
			     , A.상품처리거래집계년월일
			     , A.채널구분코드
			     , A.채널세부업무구분코드
			     , A.거래코드
			     , MAX(nvl(A.상품처리오류거래건수, '0')) "최대건수_N9"
			     , MIN(nvl(A.상품처리오류거래건수, '0')) "최소건수_N9"                                                        
			     , AVG(nvl(A.상품처리오류거래건수, '0')) "평균건수_N9_2"                       
			     , MAX(nvl(A.상품처리오류거래비율, '0')) "최대오류율_N5_2"               
			     , MIN(nvl(A.상품처리오류거래비율, '0')) "최소오류율_N5_2"               
			     , AVG(nvl(A.상품처리오류거래비율, '0')) "평균오류율_N5_2"
			  FROM INSTC.TBGCBEM12 A        /* GCB오류거래모니터링오류집계 */
			 WHERE A.상품처리거래집계구분코드 = ${상품처리거래집계구분코드}
			   AND A.상품처리거래집계년월일  BETWEEN ${조회시작년월일} AND ${조회종료년월일}
			   AND A.채널구분코드       = ${채널구분코드}
			   AND A.채널세부업무구분코드 = ${채널세부업무구분코드}
			   AND SUBSTR(A.거래코드,1,3)   = ${어플리케이션코드}
			   AND ( ${거래코드} IS NULL OR A.거래코드 LIKE '%' || ${거래코드} || '%' )
			   AND ( ${오류메시지코드} IS NULL OR A.오류메시지코드 LIKE '%' || ${오류메시지코드} || '%' )
			   AND ( ${조치메시지코드} IS NULL OR A.조치메시지코드 LIKE '%' || ${조치메시지코드} || '%' )
			 GROUP BY A.상품처리거래집계구분코드
			     , A.상품처리거래집계년월일
			     , A.채널구분코드
			     , A.채널세부업무구분코드
			     , A.거래코드 
			     , ${검색대상내용_V50}
			     , ${검색대상내용_V100}
		]]>
    </statement>

    <!--  -->
    <statement name="retvLstGcbErrTrMngErrSmmPmn" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::21.IT장애관리지원::GCB오류거래모니터링오류집계Ebi::GCB오류거래모니터링오류집계Dao::GCB오류거래모니터링오류집계월별목록조회">
		<![CDATA[
			SELECT /*+ 이태양::/gcb/itObstMgSpt/gcbErrTrMngErrSmmEbi/TBGCBEM12/retvLstGcbErrTrMngErrSmmPmn */ 
			       A.상품처리거래집계구분코드
			     , SUBSTR(A.상품처리거래집계년월일,1,6) "상품처리거래집계년월일"
			     , A.채널구분코드
			     , A.채널세부업무구분코드
			     , A.거래코드
			     , MAX(nvl(A.상품처리오류거래건수, '0')) "최대건수_N9"
			     , MIN(nvl(A.상품처리오류거래건수, '0')) "최소건수_N9"                                                        
			     , AVG(nvl(A.상품처리오류거래건수, '0')) "평균건수_N9_2"                       
			     , MAX(nvl(A.상품처리오류거래비율, '0')) "최대오류율_N5_2"               
			     , MIN(nvl(A.상품처리오류거래비율, '0')) "최소오류율_N5_2"               
			     , AVG(nvl(A.상품처리오류거래비율, '0')) "평균오류율_N5_2"
			  FROM INSTC.TBGCBEM12 A        /* GCB오류거래모니터링오류집계 */
			 WHERE A.상품처리거래집계구분코드 = ${상품처리거래집계구분코드}
			   AND A.상품처리거래집계년월일  BETWEEN ${조회시작년월일} || '01' AND ${조회종료년월일} || '31'
			   AND A.채널구분코드       = ${채널구분코드}
			   AND A.채널세부업무구분코드 = ${채널세부업무구분코드}
			   AND SUBSTR(A.거래코드,1,3)   = ${어플리케이션코드}
			   AND ( ${거래코드} IS NULL OR A.거래코드 LIKE '%' || ${거래코드} || '%' )
			   AND ( ${오류메시지코드} IS NULL OR A.오류메시지코드 LIKE '%' || ${오류메시지코드} || '%' )
			   AND ( ${조치메시지코드} IS NULL OR A.조치메시지코드 LIKE '%' || ${조치메시지코드} || '%' )
			 GROUP BY A.상품처리거래집계구분코드
			     , SUBSTR(A.상품처리거래집계년월일,1,6)
			     , A.채널구분코드
			     , A.채널세부업무구분코드
			     , A.거래코드 
			     , ${검색대상내용_V50}
			     , ${검색대상내용_V100}
		]]>
    </statement>

    <!--  -->
    <statement name="retvLstGcbErrTrMngErrSmmPryr" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::21.IT장애관리지원::GCB오류거래모니터링오류집계Ebi::GCB오류거래모니터링오류집계Dao::GCB오류거래모니터링오류집계연도별목록조회">
		<![CDATA[
			SELECT /*+ 이태양::/gcb/itObstMgSpt/gcbErrTrMngErrSmmEbi/TBGCBEM12/retvLstGcbErrTrMngErrSmmPryr */ 
			       A.상품처리거래집계구분코드
			     , SUBSTR(A.상품처리거래집계년월일,1,4) "상품처리거래집계년월일"
			     , A.채널구분코드
			     , A.채널세부업무구분코드
			     , A.거래코드
			     , MAX(nvl(A.상품처리오류거래건수, '0')) "최대건수_N9"
			     , MIN(nvl(A.상품처리오류거래건수, '0')) "최소건수_N9"                                                        
			     , AVG(nvl(A.상품처리오류거래건수, '0')) "평균건수_N9_2"                       
			     , MAX(nvl(A.상품처리오류거래비율, '0')) "최대오류율_N5_2"               
			     , MIN(nvl(A.상품처리오류거래비율, '0')) "최소오류율_N5_2"               
			     , AVG(nvl(A.상품처리오류거래비율, '0')) "평균오류율_N5_2"
			  FROM INSTC.TBGCBEM12 A        /* GCB오류거래모니터링오류집계 */
			 WHERE A.상품처리거래집계구분코드 = ${상품처리거래집계구분코드}
			   AND A.상품처리거래집계년월일  BETWEEN ${조회시작년월일} || '0101' AND ${조회종료년월일} || '1231'
			   AND A.채널구분코드       = ${채널구분코드}
			   AND A.채널세부업무구분코드 = ${채널세부업무구분코드}
			   AND SUBSTR(A.거래코드,1,3)   = ${어플리케이션코드}
			   AND ( ${거래코드} IS NULL OR A.거래코드 LIKE '%' || ${거래코드} || '%' )
			   AND ( ${오류메시지코드} IS NULL OR A.오류메시지코드 LIKE '%' || ${오류메시지코드} || '%' )
			   AND ( ${조치메시지코드} IS NULL OR A.조치메시지코드 LIKE '%' || ${조치메시지코드} || '%' )
			 GROUP BY A.상품처리거래집계구분코드
			     , SUBSTR(A.상품처리거래집계년월일,1,4)
			     , A.채널구분코드
			     , A.채널세부업무구분코드
			     , A.거래코드 
			     , ${검색대상내용_V50}
			     , ${검색대상내용_V100}
		]]>
    </statement>

    <!--  -->
    <statement name="retvLstGcbErrTrMngErrSmmDtl" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::21.IT장애관리지원::GCB오류거래모니터링오류집계Ebi::GCB오류거래모니터링오류집계Dao::GCB오류거래모니터링오류집계상세목록조회">
		<![CDATA[
			SELECT /*+ 이태양::/gcb/itObstMgSpt/gcbErrTrMngErrSmmEbi/TBGCBEM12/retvLstGcbErrTrMngErrSmmDtl */ 
			       A.상품처리거래집계구분코드
			     , A.상품처리거래집계년월일
			     , A.채널구분코드
			     , A.채널세부업무구분코드
			     , A.거래코드
			     , A.오류메시지코드
			     , A.조치메시지코드
			     , AVG(nvl(A.상품처리오류거래건수,0)) 평균건수_N9_2
			     , MAX(nvl(A.상품처리오류거래건수,0)) 최대건수_N9
			     , MIN(nvl(A.상품처리오류거래건수,0)) 최소건수_N9
			     , AVG(nvl(A.상품처리오류거래비율,0)) 평균오류율_N5_2
			     , MAX(nvl(A.상품처리오류거래비율,0)) 최대오류율_N5_2
			     , MIN(nvl(A.상품처리오류거래비율,0)) 최소오류율_N5_2
			  FROM INSTC.TBGCBEM12 A        /* GCB오류거래모니터링오류집계 */
			 WHERE  A.상품처리거래집계구분코드 = ${상품처리거래집계구분코드}
			   AND A.상품처리거래집계년월일 LIKE ${조회기준년월일} || '%'
			   AND A.채널구분코드       = ${채널구분코드}
			   AND A.채널세부업무구분코드 = ${채널세부업무구분코드}
			   AND A.거래코드 = ${거래코드}
			 GROUP BY A.상품처리거래집계구분코드
			     , A.상품처리거래집계년월일
			     , A.채널구분코드
			     , A.채널세부업무구분코드
			     , A.거래코드
			     , A.오류메시지코드
			     , A.조치메시지코드
		]]>
    </statement>

    <!--  -->
    <statement name="retvLstGcbErrTrMngErrSmmPryrDtl" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::21.IT장애관리지원::GCB오류거래모니터링오류집계Ebi::GCB오류거래모니터링오류집계Dao::GCB오류거래모니터링오류집계연도별상세목록조회">
		<![CDATA[
			SELECT /*+ 이태양::/gcb/itObstMgSpt/gcbErrTrMngErrSmmEbi/TBGCBEM12/retvLstGcbErrTrMngErrSmmPryrDtl */ 
			       A.상품처리거래집계구분코드
			     , SUBSTR(A.상품처리거래집계년월일,1,6) 상품처리거래집계년월일
			     , A.채널구분코드
			     , A.채널세부업무구분코드
			     , A.거래코드
			     , A.오류메시지코드
			     , A.조치메시지코드
			     , AVG(nvl(A.상품처리오류거래건수,0)) 평균건수_N9_2
			     , MAX(nvl(A.상품처리오류거래건수,0)) 최대건수_N9
			     , MIN(nvl(A.상품처리오류거래건수,0)) 최소건수_N9
			     , AVG(nvl(A.상품처리오류거래비율,0)) 평균오류율_N5_2
			     , MAX(nvl(A.상품처리오류거래비율,0)) 최대오류율_N5_2
			     , MIN(nvl(A.상품처리오류거래비율,0)) 최소오류율_N5_2
			  FROM INSTC.TBGCBEM12 A        /* GCB오류거래모니터링오류집계 */
			 WHERE  A.상품처리거래집계구분코드 = ${상품처리거래집계구분코드}
			   AND A.상품처리거래집계년월일 LIKE ${조회기준년월일} || '%'
			   AND A.채널구분코드       = ${채널구분코드}
			   AND A.채널세부업무구분코드 = ${채널세부업무구분코드}
			   AND A.거래코드 = ${거래코드}
			 GROUP BY A.상품처리거래집계구분코드
			     , SUBSTR(A.상품처리거래집계년월일,1,6)
			     , A.채널구분코드
			     , A.채널세부업무구분코드
			     , A.거래코드
			     , A.오류메시지코드
			     , A.조치메시지코드
		]]>
    </statement>
</statements>
