<?xml version="1.0" encoding="EUC-KR"?>
<statements>

    <!--  -->
    <statement name="retvGcbLdgAmdRsbTemApvHis" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::10.원장수정관리::GCB원장수정담당팀결재내역Ebi::GCB원장수정담당팀결재내역Dao::GCB원장수정담당팀결재내역조회" >
		<![CDATA[
			SELECT /*+ 김민교::/gcb/ldgAmdMg/gcbLdgAmdRsbTemApvHisEbi/TBGCBLA14/retvGcbLdgAmdRsbTemApvHis */ 
			       A.원장수정의뢰번호
			     , A.원장수정IT담당팀구분코드
			     , A.원장수정IT담당팀일련번호
			     , A.원장수정진행단계구분코드
			     , A.원장수정의뢰서진행상태구분코드
			     , A.원장수정담당팀결재직원번호
			     , A.원장수정담당팀결재년월일
			     , A.원장수정담당팀결재시각
			     , A.원장수정의뢰서결재구분코드
			     , A.원장수정재위임요청사유
			     , A.원장수정재위임요청직원번호
			     , A.원장수정재위임요청직원명
			     , A.원장수정반려직원번호
			     , A.원장수정의뢰서반려여부
			     , A.원장수정반려사유
			     , TO_CHAR(A.시스템최종갱신일시, 'YYYYMMDDHH24MISS') as 시스템최종갱신일시
			     , A.시스템최종갱신식별자
			     , A.시스템최종거래일시
			  FROM INSTC.TBGCBLA14 A 
			 WHERE A.원장수정의뢰번호      = ${원장수정의뢰번호}
			   AND A.원장수정IT담당팀구분코드 = ${원장수정IT담당팀구분코드}
			   AND A.원장수정IT담당팀일련번호 = ${원장수정IT담당팀일련번호}
		]]>
    </statement>

    <!--  -->
    <statement name="regtGcbLdgAmdRsbTemApvHis" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::10.원장수정관리::GCB원장수정담당팀결재내역Ebi::GCB원장수정담당팀결재내역Dao::GCB원장수정담당팀결재내역등록">
		<![CDATA[
			INSERT /*+ 김민교::/gcb/ldgAmdMg/gcbLdgAmdRsbTemApvHisEbi/TBGCBLA14/regtGcbLdgAmdRsbTemApvHis */
			  INTO INSTC.TBGCBLA14
			(
			   원장수정의뢰번호
			 , 원장수정IT담당팀구분코드
			 , 원장수정IT담당팀일련번호
			 , 원장수정진행단계구분코드
			 , 원장수정의뢰서진행상태구분코드
			 , 원장수정담당팀결재직원번호
			 , 원장수정담당팀결재년월일
			 , 원장수정담당팀결재시각
			 , 원장수정의뢰서결재구분코드
			 , 원장수정재위임요청사유
			 , 원장수정재위임요청직원번호
			 , 원장수정재위임요청직원명
			 , 원장수정반려직원번호
			 , 원장수정의뢰서반려여부
			 , 원장수정반려사유
			 , 시스템최종갱신일시
			 , 시스템최종갱신식별자
			 , 시스템최종거래일시
			)
			VALUES
			(
			  ${원장수정의뢰번호}
			 ,${원장수정IT담당팀구분코드}
			 , (SELECT NVL(MAX(A.원장수정IT담당팀일련번호), 0) + 1 FROM INSTC.TBGCBLA14 A WHERE A.원장수정의뢰번호 = ${원장수정의뢰번호})
			 ,${원장수정진행단계구분코드}
			 ,${원장수정의뢰서진행상태구분코드}
			 ,${원장수정담당팀결재직원번호}
			 ,${원장수정담당팀결재년월일}
			 ,${원장수정담당팀결재시각}
			 ,${원장수정의뢰서결재구분코드}
			 ,${원장수정재위임요청사유}
			 ,${원장수정재위임요청직원번호}
			 ,${원장수정재위임요청직원명}
			 ,${원장수정반려직원번호}
			 ,${원장수정의뢰서반려여부}
			 ,${원장수정반려사유}
			 ,SYSTIMESTAMP
			 ,${시스템최종갱신식별자}
			 ,${시스템최종거래일시}
			)
		]]>
    </statement>

    <!--  -->
    <statement name="uptGcbLdgAmdRsbTemApvHis" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::10.원장수정관리::GCB원장수정담당팀결재내역Ebi::GCB원장수정담당팀결재내역Dao::GCB원장수정담당팀결재내역수정" >
		<![CDATA[
			UPDATE /*+ 김민교::/gcb/ldgAmdMg/gcbLdgAmdRsbTemApvHisEbi/TBGCBLA14/uptGcbLdgAmdRsbTemApvHis */ 
			       INSTC.TBGCBLA14 
			   SET 원장수정진행단계구분코드    = ${원장수정진행단계구분코드}
			     , 원장수정의뢰서진행상태구분코드 = ${원장수정의뢰서진행상태구분코드}
			     , 원장수정담당팀결재직원번호   = ${원장수정담당팀결재직원번호}
			     , 원장수정담당팀결재년월일    = ${원장수정담당팀결재년월일}
			     , 원장수정담당팀결재시각     = ${원장수정담당팀결재시각}
			     , 원장수정의뢰서결재구분코드   = ${원장수정의뢰서결재구분코드}
			     , 원장수정재위임요청사유     = ${원장수정재위임요청사유}
			     , 원장수정재위임요청직원번호   = ${원장수정재위임요청직원번호}
			     , 원장수정재위임요청직원명    = ${원장수정재위임요청직원명}
			     , 원장수정반려직원번호      = ${원장수정반려직원번호}
			     , 원장수정의뢰서반려여부     = ${원장수정의뢰서반려여부}
			     , 원장수정반려사유        = ${원장수정반려사유}
			     , 시스템최종갱신일시       = SYSTIMESTAMP
			     , 시스템최종갱신식별자      = ${시스템최종갱신식별자}
			     , 시스템최종거래일시       = ${시스템최종거래일시}
			 WHERE 원장수정의뢰번호      = ${원장수정의뢰번호}
			   AND 원장수정IT담당팀구분코드 = ${원장수정IT담당팀구분코드}
			   AND 원장수정IT담당팀일련번호 = ${원장수정IT담당팀일련번호}
		]]>
    </statement>

    <!--  -->
    <statement name="delGcbLdgAmdRsbTemApvHis" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::10.원장수정관리::GCB원장수정담당팀결재내역Ebi::GCB원장수정담당팀결재내역Dao::GCB원장수정담당팀결재내역삭제" >
		<![CDATA[
			DELETE /*+ 김민교::/gcb/ldgAmdMg/gcbLdgAmdRsbTemApvHisEbi/TBGCBLA14/delGcbLdgAmdRsbTemApvHis */
			  FROM INSTC.TBGCBLA14  
			 WHERE 원장수정의뢰번호      = ${원장수정의뢰번호}
			   AND 원장수정IT담당팀구분코드 = ${원장수정IT담당팀구분코드}
			   AND 원장수정IT담당팀일련번호 = ${원장수정IT담당팀일련번호}
		]]>
    </statement>

    <!--  -->
    <statement name="retvLstGcbLdgAmdItRsbTemAlo" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::10.원장수정관리::GCB원장수정담당팀결재내역Ebi::GCB원장수정담당팀결재내역Dao::GCB원장수정IT담당팀배정목록조회">
		<![CDATA[
			SELECT /*+ 김동현::/gcb/ldgAmdMg/gcbLdgAmdRsbTemApvHisEbi/TBGCBLA14/retvLstGcbLdgAmdItRsbTemAlo */ 
			       A.원장수정의뢰번호
			     , A.원장수정IT담당팀구분코드
			     , A.원장수정IT담당팀일련번호
			     , A.원장수정진행단계구분코드
			     , A.원장수정의뢰서진행상태구분코드
			     , A.원장수정담당팀결재직원번호
			     , A.원장수정담당팀결재년월일
			     , A.원장수정담당팀결재시각
			     , A.원장수정의뢰서결재구분코드
			     , A.원장수정재위임요청사유
			     , A.원장수정재위임요청직원번호
			     , A.원장수정재위임요청직원명
			     , A.원장수정반려직원번호
			     , A.원장수정의뢰서반려여부
			     , A.원장수정반려사유
			     , TO_CHAR(A.시스템최종갱신일시, 'YYYYMMDDHH24MISS') as 시스템최종갱신일시
			     , A.시스템최종갱신식별자
			     , A.시스템최종거래일시
			  FROM INSTC.TBGCBLA14 A 
			 WHERE A.원장수정의뢰번호 = ${원장수정의뢰번호}
			   AND A.원장수정진행단계구분코드 = '13' /*13-IT담당자배정*/
			   AND A.원장수정의뢰서진행상태구분코드 IN ('01', '02', '05') /*01-진행중, 02-결재완료, 05-배정추가*/
		]]>
    </statement>

    <!--  -->
    <statement name="retvLstGcbLdgAmdApvPgrPrstByRsbTemApvHis" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::10.원장수정관리::GCB원장수정담당팀결재내역Ebi::GCB원장수정담당팀결재내역Dao::GCB원장수정결재진행현황By담당팀결재내역목록조회">
		<![CDATA[
			SELECT /*+ 김동현::/gcb/ldgAmdMg/gcbLdgAmdRsbTemApvHisEbi/TBGCBLA14/retvLstGcbLdgAmdApvPgrPrstByRsbTemApvHis */ 
			       A.원장수정의뢰번호
			     , A.원장수정IT담당팀구분코드
			     , A.원장수정IT담당팀일련번호
			     , A.원장수정진행단계구분코드
			     , A.원장수정의뢰서진행상태구분코드
			     , A.원장수정담당팀결재직원번호
			     , A.원장수정담당팀결재년월일
			     , A.원장수정담당팀결재시각
			     , A.원장수정의뢰서결재구분코드
			     , A.원장수정재위임요청사유
			     , A.원장수정재위임요청직원번호
			     , A.원장수정재위임요청직원명
			     , A.원장수정반려직원번호
			     , A.원장수정의뢰서반려여부
			     , A.원장수정반려사유
			  FROM INSTC.TBGCBLA14 A
			 WHERE A.원장수정의뢰번호 = ${원장수정의뢰번호}
			   AND A.원장수정의뢰서진행상태구분코드 IN ('01', '02', '05') /*01(진행중), 02(결재완료), 05(배정추가)*/
			   AND A.원장수정진행단계구분코드 = '13' /*13(IT담당자배정)*/ 
			ORDER BY A.원장수정IT담당팀일련번호 ASC
		]]>
    </statement>

    <!--  -->
    <statement name="retvGcbLdgAmdRsbTemApvHisByRsbTemApvRst" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::10.원장수정관리::GCB원장수정담당팀결재내역Ebi::GCB원장수정담당팀결재내역Dao::GCB원장수정담당팀결재내역By담당팀결재결과조회">
		<![CDATA[
			SELECT /*+ 김민교::/gcb/ldgAmdMg/gcbLdgAmdRsbTemApvHisEbi/TBGCBLA14/retvGcbLdgAmdRsbTemApvHisByRsbTemApvRst */ 
			       COUNT(*) 조회건수_N2
			  FROM INSTC.TBGCBLA14 A 
			 WHERE A.원장수정의뢰번호      = ${원장수정의뢰번호}
			   AND A.원장수정의뢰서진행상태구분코드 IN ('01', '05') /*01(진행중), 05(배정추가)*/
		]]>
    </statement>

    <!--  -->
    <statement name="retvGcbLdgAmdRsbTemApvHisByRsbTemApvHis" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::10.원장수정관리::GCB원장수정담당팀결재내역Ebi::GCB원장수정담당팀결재내역Dao::GCB원장수정담당팀결재내역By담당팀결재내역조회">
		<![CDATA[
			SELECT /*+ 김민교::/gcb/ldgAmdMg/gcbLdgAmdRsbTemApvHisEbi/TBGCBLA14/retvGcbLdgAmdRsbTemApvHisByRsbTemApvHis */ 
			       A.원장수정의뢰번호
			     , A.원장수정IT담당팀구분코드
			     , A.원장수정IT담당팀일련번호
			     , A.원장수정진행단계구분코드
			     , A.원장수정의뢰서진행상태구분코드
			     , A.원장수정담당팀결재직원번호
			     , A.원장수정담당팀결재년월일
			     , A.원장수정담당팀결재시각
			     , A.원장수정의뢰서결재구분코드
			     , A.원장수정재위임요청사유
			     , A.원장수정재위임요청직원번호
			     , A.원장수정재위임요청직원명
			     , A.원장수정반려직원번호    
			     , A.원장수정의뢰서반려여부
			     , A.원장수정반려사유
			  FROM INSTC.TBGCBLA14 A 
			 WHERE A.원장수정의뢰번호      = ${원장수정의뢰번호}
			   AND A.원장수정IT담당팀구분코드 = ${원장수정IT담당팀구분코드}
			   AND A.원장수정진행단계구분코드 = ${원장수정진행단계구분코드}
			   AND A.원장수정의뢰서진행상태구분코드 IN (${원장수정의뢰서진행상태구분코드1}
			                               , ${원장수정의뢰서진행상태구분코드2}
			                               , ${원장수정의뢰서진행상태구분코드3})
		]]>
    </statement>
    
    
    <!--  -->
    <statement name="retvGcbLdgAmdRsbTemApvHisByRsbTemApvHisNcn" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::10.원장수정관리::GCB원장수정담당팀결재내역Ebi::GCB원장수정담당팀결재내역Dao::GCB원장수정담당팀결재내역By담당팀결재내역건수조회">
		<![CDATA[
			SELECT /*+ 김동현::/gcb/ldgAmdMg/gcbLdgAmdRsbTemApvHisEbi/TBGCBLA14/retvGcbLdgAmdRsbTemApvHisByRsbTemApvHisNcn */ 
			       COUNT(*) 조회건수_N2
			  FROM INSTC.TBGCBLA14 A 
			 WHERE A.원장수정의뢰번호      = ${원장수정의뢰번호}
			   AND A.원장수정IT담당팀구분코드 = ${원장수정IT담당팀구분코드}
			   AND A.원장수정진행단계구분코드 = ${원장수정진행단계구분코드}
			   AND A.원장수정의뢰서진행상태구분코드 IN (${원장수정의뢰서진행상태구분코드1}
			                               , ${원장수정의뢰서진행상태구분코드2}
			                               , ${원장수정의뢰서진행상태구분코드3})
		]]>
    </statement>
</statements>
