<?xml version="1.0" encoding="EUC-KR"?>
<statements>

    <!--  -->
    <statement name="retvLstGcbTrprElcCnusSlpRulBse" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::05.거래제어관리::GCB거래별전자공용전표규칙기준Ebi::GCB거래별전자공용전표규칙기준Dao::GCB거래별전자공용전표규칙기준목록조회">
		<![CDATA[
			SELECT /*+ 위상규::/gcb/trCtroMg/gcbTrprElcCnusSlpRulBseEbi/TBGCBTR11/retvLstGcbTrprElcCnusSlpRulBse */ 
			       A.거래제어코드
			     , A.거래제어규칙일련번호
			     , A.적용시작년월일
			     , A.적용종료년월일
			     , A.전자공용전표규칙명
			     , A.취소구분코드
			     , A.전표결정목록조건내용
			     , A.시스템최종갱신일시
			     , A.시스템최종갱신식별자
			     , A.시스템최종거래일시 
			  FROM INSTC.TBGCBTR11 A
			 WHERE 1 = 1
			   AND A.거래제어코드  = ${거래제어코드}
			   AND A.거래제어규칙일련번호  <> 0
			   AND A.적용시작년월일  <= ${적용시작년월일}
			   AND A.적용종료년월일  >= ${적용종료년월일}
			   AND A.취소구분코드  = ${취소구분코드}
		]]>
    </statement>

    <!--  -->
    <statement name="retvGcbTrprElcCnusSlpRulBseNcn" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::05.거래제어관리::GCB거래별전자공용전표규칙기준Ebi::GCB거래별전자공용전표규칙기준Dao::GCB거래별전자공용전표규칙기준건수조회">
		<![CDATA[
			SELECT /*+ 위상규::/gcb/trCtroMg/gcbTrprElcCnusSlpRulBseEbi/TBGCBTR11/retvGcbTrprElcCnusSlpRulBseNcn */ 
			       COUNT(1) 건수_N11
			  FROM INSTC.TBGCBTR11 A 
			 WHERE A.거래제어코드 = ${거래제어코드}
		]]>
    </statement>

    <!--  -->
    <statement name="retvLstGcbTrprElcCnusSlpRulBseJudg" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::05.거래제어관리::GCB거래별전자공용전표규칙기준Ebi::GCB거래별전자공용전표규칙기준Dao::GCB거래별전자공용전표규칙기준판단목록조회">
		<![CDATA[
			SELECT /*+ 위상규::/gcb/trCtroMg/gcbTrprElcCnusSlpRulBseEbi/TBGCBTR11/retvLstGcbTrprElcCnusSlpRulBseJudg */ 
			       A.거래제어코드
			     , A.거래제어규칙일련번호
			     , A.적용시작년월일
			     , A.적용종료년월일
			     , A.전자공용전표규칙명
			     , A.취소구분코드
			     , A.전표결정목록조건내용
			     , TO_CHAR(A.시스템최종갱신일시, 'YYYYMMDDHH24MISS') as 시스템최종갱신일시
			     , A.시스템최종갱신식별자
			     , A.시스템최종거래일시
			  FROM INSTC.TBGCBTR11 A 
			 WHERE A.거래제어코드 LIKE ${거래제어코드} || '%'
			   AND A.거래제어규칙일련번호 BETWEEN ${거래제어규칙일련번호1} AND ${거래제어규칙일련번호2}
			   AND A.적용시작년월일 <= ${적용시작년월일}
			   AND A.적용종료년월일 >= ${적용종료년월일}
		]]>
    </statement>

    <!--  -->
    <statement name="retvGcbTrprElcCnusSlpRulBseSno" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::05.거래제어관리::GCB거래별전자공용전표규칙기준Ebi::GCB거래별전자공용전표규칙기준Dao::GCB거래별전자공용전표규칙기준일련번호조회">
		<![CDATA[
			SELECT /*+ 위상규::/gcb/trCtroMg/gcbTrprElcCnusSlpRulBseEbi/TBGCBTR11/retvGcbTrprElcCnusSlpRulBseSno */ 
			       NVL(MAX(A.거래제어규칙일련번호), 0) 거래제어규칙일련번호
			  FROM INSTC.TBGCBTR11 A 
			 WHERE A.거래제어코드 = ${거래제어코드}
		]]>
    </statement>

    <!--  -->
    <statement name="regtGcbTrprElcCnusSlpRulBse" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::05.거래제어관리::GCB거래별전자공용전표규칙기준Ebi::GCB거래별전자공용전표규칙기준Dao::GCB거래별전자공용전표규칙기준등록" >
		<![CDATA[
			INSERT /*+ 위상규::/gcb/trCtroMg/gcbTrprElcCnusSlpRulBseEbi/TBGCBTR11/regtGcbTrprElcCnusSlpRulBse */
			  INTO INSTC.TBGCBTR11
			(
			   거래제어코드
			 , 거래제어규칙일련번호
			 , 적용시작년월일
			 , 적용종료년월일
			 , 전자공용전표규칙명
			 , 취소구분코드
			 , 전표결정목록조건내용
			 , 시스템최종갱신일시
			 , 시스템최종갱신식별자
			 , 시스템최종거래일시
			)
			VALUES
			(
			  ${거래제어코드}
			 ,${거래제어규칙일련번호}
			 ,${적용시작년월일}
			 ,${적용종료년월일}
			 ,${전자공용전표규칙명}
			 ,${취소구분코드}
			 ,${전표결정목록조건내용}
			 ,SYSTIMESTAMP
			 ,${시스템최종갱신식별자}
			 ,${시스템최종거래일시}
			)
		]]>
    </statement>

    <!--  -->
    <statement name="retvGcbTrprElcCnusSlpRulBse" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::05.거래제어관리::GCB거래별전자공용전표규칙기준Ebi::GCB거래별전자공용전표규칙기준Dao::GCB거래별전자공용전표규칙기준조회" >
		<![CDATA[
			SELECT /*+ 위상규::/gcb/trCtroMg/gcbTrprElcCnusSlpRulBseEbi/TBGCBTR11/retvGcbTrprElcCnusSlpRulBse */ 
			       A.거래제어코드
			     , A.거래제어규칙일련번호
			     , A.적용시작년월일
			     , A.적용종료년월일
			     , A.전자공용전표규칙명
			     , A.취소구분코드
			     , A.전표결정목록조건내용
			     , TO_CHAR(A.시스템최종갱신일시, 'YYYYMMDDHH24MISS') as 시스템최종갱신일시
			     , A.시스템최종갱신식별자
			     , A.시스템최종거래일시
			  FROM INSTC.TBGCBTR11 A 
			 WHERE A.거래제어코드     = ${거래제어코드}
			   AND A.거래제어규칙일련번호 = ${거래제어규칙일련번호}
			   AND A.적용시작년월일    = ${적용시작년월일}
		]]>
    </statement>

    <!--  -->
    <statement name="uptGcbTrprElcCnusSlpRulBse" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::05.거래제어관리::GCB거래별전자공용전표규칙기준Ebi::GCB거래별전자공용전표규칙기준Dao::GCB거래별전자공용전표규칙기준수정" >
		<![CDATA[
			UPDATE /*+ 위상규::/gcb/trCtroMg/gcbTrprElcCnusSlpRulBseEbi/TBGCBTR11/uptGcbTrprElcCnusSlpRulBse */ 
			       INSTC.TBGCBTR11 
			   SET 적용종료년월일    = ${적용종료년월일}
			     , 전자공용전표규칙명  = ${전자공용전표규칙명}
			     , 취소구분코드     = ${취소구분코드}
			     , 전표결정목록조건내용 = ${전표결정목록조건내용}
			     , 시스템최종갱신일시  = SYSTIMESTAMP
			     , 시스템최종갱신식별자 = ${시스템최종갱신식별자}
			     , 시스템최종거래일시  = ${시스템최종거래일시}
			 WHERE 거래제어코드     = ${거래제어코드}
			   AND 거래제어규칙일련번호 = ${거래제어규칙일련번호}
			   AND 적용시작년월일    = ${적용시작년월일}
		]]>
    </statement>

    <!--  -->
    <statement name="delGcbTrprElcCnusSlpRulBse" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::05.거래제어관리::GCB거래별전자공용전표규칙기준Ebi::GCB거래별전자공용전표규칙기준Dao::GCB거래별전자공용전표규칙기준삭제" >
		<![CDATA[
			DELETE /*+ 위상규::/gcb/trCtroMg/gcbTrprElcCnusSlpRulBseEbi/TBGCBTR11/delGcbTrprElcCnusSlpRulBse */
			  FROM INSTC.TBGCBTR11  
			 WHERE 거래제어코드     = ${거래제어코드}
			   AND 거래제어규칙일련번호 = ${거래제어규칙일련번호}
			   AND 적용시작년월일    = ${적용시작년월일}
		]]>
    </statement>

    <!--  -->
    <statement name="retvLstGcbTrprElcCnusSlpRulBseCpldRpsTr" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::05.거래제어관리::GCB거래별전자공용전표규칙기준Ebi::GCB거래별전자공용전표규칙기준Dao::GCB거래별전자공용전표규칙기준연동대표거래목록조회">
		<![CDATA[
			SELECT /*+ 위상규::/gcb/trCtroMg/gcbTrprElcCnusSlpRulBseEbi/TBGCBTR11/retvLstGcbTrprElcCnusSlpRulBseCpldRpsTr */ 
			       A.거래제어코드
			     , A.거래제어규칙일련번호
			     , A.적용시작년월일
			     , A.적용종료년월일
			     , A.전자공용전표규칙명
			     , A.취소구분코드
			     , A.전표결정목록조건내용
			     , TO_CHAR(A.시스템최종갱신일시, 'YYYYMMDDHH24MISS') as 시스템최종갱신일시
			     , A.시스템최종갱신식별자
			     , A.시스템최종거래일시
			  FROM INSTC.TBGCBTR11 A 
			 WHERE A.거래제어코드 = ${거래제어코드}
			   AND A.거래제어규칙일련번호 = ${거래제어규칙일련번호}
			   AND A.적용시작년월일 <= ${적용시작년월일}
			   AND A.적용종료년월일 >= ${적용종료년월일}
		]]>
    </statement>

    <!--  -->
    <statement name="retvLstGcbTrprElcCnusSlpRulBseInf" qPath="[GCB_MODEL_업무공통] 2.시스템명세모델::05.엔터티컴포넌트::05.거래제어관리::GCB거래별전자공용전표규칙기준Ebi::GCB거래별전자공용전표규칙기준Dao::GCB거래별전자공용전표규칙기준정보목록조회">
		<![CDATA[
			SELECT /*+ 송재복::/gcb/trCtroMg/gcbTrprElcCnusSlpRulBseEbi/TBGCBTR11/retvLstGcbTrprElcCnusSlpRulBseInf */ 
			       A.거래제어코드
			     , A.거래제어규칙일련번호
			     , A.적용시작년월일
			     , A.적용종료년월일
			     , A.전자공용전표규칙명
			     , A.취소구분코드
			     , A.전표결정목록조건내용
			     , TO_CHAR(A.시스템최종갱신일시, 'YYYYMMDDHH24MISSFF6') as 시스템최종갱신일시
			     , A.시스템최종갱신식별자
			     , A.시스템최종거래일시
			  FROM INSTC.TBGCBTR11 A 
			 WHERE ( A.거래제어코드     > ${거래제어코드}
			    OR ( A.거래제어코드 = ${거래제어코드}
			   AND A.거래제어규칙일련번호 >= ${거래제어규칙일련번호}))
			   AND A.거래제어코드 BETWEEN ${거래제어코드1} AND ${거래제어코드2}
			   AND A.거래제어코드 BETWEEN ${어플리케이션코드1} || '0000000' AND ${어플리케이션코드2} || '9999999'
			   AND A.시스템최종거래일시 BETWEEN ${적용시작년월일} || '000000000000' AND ${적용종료년월일} || '999999999999'
			   AND ( ${전자공용전표규칙명} IS NULL OR A.전자공용전표규칙명 LIKE ${전자공용전표규칙명} || '%' )
		]]>
    </statement>
</statements>
